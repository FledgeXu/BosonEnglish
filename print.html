<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Boson 1.16 Modding Tutorial</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction/intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="introduction/what-is-forge.html"><strong aria-hidden="true">1.1.</strong> What is Forge?</a></li><li class="chapter-item expanded "><a href="introduction/how-minecraft-works.html"><strong aria-hidden="true">1.2.</strong> How Minecraft Works?</a></li><li class="chapter-item expanded "><a href="introduction/development-model.html"><strong aria-hidden="true">1.3.</strong> Development Model</a></li><li class="chapter-item expanded "><a href="introduction/core-conception.html"><strong aria-hidden="true">1.4.</strong> Core Concepetion</a></li></ol></li><li class="chapter-item expanded "><a href="devenvironment/intro.html"><strong aria-hidden="true">2.</strong> Development Environment</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="devenvironment/setup-environment.html"><strong aria-hidden="true">2.1.</strong> Setup Environment</a></li><li class="chapter-item expanded "><a href="devenvironment/introduce-environment.html"><strong aria-hidden="true">2.2.</strong> Introduce Environment</a></li><li class="chapter-item expanded "><a href="devenvironment/customize-mod-info.html"><strong aria-hidden="true">2.3.</strong> Customize Mod Info</a></li></ol></li><li class="chapter-item expanded "><a href="item/intro.html"><strong aria-hidden="true">3.</strong> Item</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="item/first-item.html"><strong aria-hidden="true">3.1.</strong> First Item</a></li><li class="chapter-item expanded "><a href="item/model-and-texture.html"><strong aria-hidden="true">3.2.</strong> Model and Texture</a></li><li class="chapter-item expanded "><a href="item/item-and-itemstack.html"><strong aria-hidden="true">3.3.</strong> Item and ItemStack</a></li><li class="chapter-item expanded "><a href="item/item-group.html"><strong aria-hidden="true">3.4.</strong> Item Group</a></li><li class="chapter-item expanded "><a href="item/food.html"><strong aria-hidden="true">3.5.</strong> Food</a></li><li class="chapter-item expanded "><a href="item/sword.html"><strong aria-hidden="true">3.6.</strong> Sword</a></li><li class="chapter-item expanded "><a href="item/tool.html"><strong aria-hidden="true">3.7.</strong> Tool</a></li><li class="chapter-item expanded "><a href="item/armor.html"><strong aria-hidden="true">3.8.</strong> Armor</a></li><li class="chapter-item expanded "><a href="item/item-property-override.html"><strong aria-hidden="true">3.9.</strong> Item Property Override</a></li></ol></li><li class="chapter-item expanded "><a href="localization/localization.html"><strong aria-hidden="true">4.</strong> Localization</a></li><li class="chapter-item expanded "><a href="block/intro.html"><strong aria-hidden="true">5.</strong> Block</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="block/first-block.html"><strong aria-hidden="true">5.1.</strong> First Block</a></li><li class="chapter-item expanded "><a href="block/block-and-blocksstate.html"><strong aria-hidden="true">5.2.</strong> Block and BlockState</a></li><li class="chapter-item expanded "><a href="block/block-model-and-texture.html"><strong aria-hidden="true">5.3.</strong> Block's Model and Texture</a></li><li class="chapter-item expanded "><a href="block/block-with-blocksstate.html"><strong aria-hidden="true">5.4.</strong> Block with BlockState</a></li><li class="chapter-item expanded "><a href="block/not-solid-block-and-custom-model.html"><strong aria-hidden="true">5.5.</strong> Not Solid Block and custom model</a></li><li class="chapter-item expanded "><a href="block/rendertype.html"><strong aria-hidden="true">5.6.</strong> Render Type</a></li></ol></li><li class="chapter-item expanded "><a href="specialmodel/intro.html"><strong aria-hidden="true">6.</strong> Special Model</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="specialmodel/obj-model.html"><strong aria-hidden="true">6.1.</strong> Obj Model</a></li></ol></li><li class="chapter-item expanded "><a href="tileentity/intro.html"><strong aria-hidden="true">7.</strong> TileEntity</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="tileentity/first-tileentity-and-data-storage.html"><strong aria-hidden="true">7.1.</strong> First TileEntity and Data Storage</a></li><li class="chapter-item expanded "><a href="tileentity/itickabletileentity.html"><strong aria-hidden="true">7.2.</strong> ITickableTileEntity</a></li><li class="chapter-item expanded "><a href="tileentity/tileentity-data-sync.html"><strong aria-hidden="true">7.3.</strong> TileEntity's Data Sync</a></li></ol></li><li class="chapter-item expanded "><a href="specialrender/intro.html"><strong aria-hidden="true">8.</strong> Special render</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="specialrender/ibakedmodel.html"><strong aria-hidden="true">8.1.</strong> IBakedModel</a></li><li class="chapter-item expanded "><a href="specialrender/ter.html"><strong aria-hidden="true">8.2.</strong> TileEntityRneder</a></li><li class="chapter-item expanded "><a href="specialrender/ister.html"><strong aria-hidden="true">8.3.</strong> ItemStackTileEntityRenderer</a></li></ol></li><li class="chapter-item expanded "><a href="event/intro.html"><strong aria-hidden="true">9.</strong> Event System</a></li><li class="chapter-item expanded "><a href="networking/intro.html"><strong aria-hidden="true">10.</strong> Network</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="networking/network-packet.html"><strong aria-hidden="true">10.1.</strong> Network Packet</a></li><li class="chapter-item expanded "><a href="networking/network-security.html"><strong aria-hidden="true">10.2.</strong> Network Security</a></li></ol></li><li class="chapter-item expanded "><a href="entity/intro.html"><strong aria-hidden="true">11.</strong> Entity</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="entity/first-entity.html"><strong aria-hidden="true">11.1.</strong> First Entity and Data Sync</a></li><li class="chapter-item expanded "><a href="entity/animal-and-ai.html"><strong aria-hidden="true">11.2.</strong> Animal and AI</a></li></ol></li><li class="chapter-item expanded "><a href="capability/intro.html"><strong aria-hidden="true">12.</strong> Capability System</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="capability/capability-from-scratch.html"><strong aria-hidden="true">12.1.</strong> Capability from Scratch</a></li><li class="chapter-item expanded "><a href="capability/use-predefined-capability.html"><strong aria-hidden="true">12.2.</strong> Use Predefined Capability</a></li><li class="chapter-item expanded "><a href="capability/attach-capability-provider.html"><strong aria-hidden="true">12.3.</strong> Attach Capability provider</a></li></ol></li><li class="chapter-item expanded "><a href="worldsaveddata/worldsaveddata.html"><strong aria-hidden="true">13.</strong> WorldSavedData</a></li><li class="chapter-item expanded "><a href="gui/intro.html"><strong aria-hidden="true">14.</strong> Gui</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="gui/first-gui.html"><strong aria-hidden="true">14.1.</strong> First Gui</a></li><li class="chapter-item expanded "><a href="gui/container.html"><strong aria-hidden="true">14.2.</strong> Container</a></li><li class="chapter-item expanded "><a href="gui/hud.html"><strong aria-hidden="true">14.3.</strong> HUD</a></li></ol></li><li class="chapter-item expanded "><a href="fluid/first-fluid.html"><strong aria-hidden="true">15.</strong> Fluid</a></li><li class="chapter-item expanded "><a href="worldgeneration/intro.html"><strong aria-hidden="true">16.</strong> World Generation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="worldgeneration/ore-generation.html"><strong aria-hidden="true">16.1.</strong> Ore Generation</a></li><li class="chapter-item expanded "><a href="worldgeneration/structure-generation.html"><strong aria-hidden="true">16.2.</strong> Structure Generation</a></li><li class="chapter-item expanded "><a href="worldgeneration/customize-biome-and-world-type.html"><strong aria-hidden="true">16.3.</strong> Customize Biome and World Type</a></li><li class="chapter-item expanded "><a href="worldgeneration/customize-dimension.html"><strong aria-hidden="true">16.4.</strong> Customize Dimension</a></li></ol></li><li class="chapter-item expanded "><a href="datapack/intro.html"><strong aria-hidden="true">17.</strong> Data Pack</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="datapack/recipes.html"><strong aria-hidden="true">17.1.</strong> Recipe</a></li><li class="chapter-item expanded "><a href="datapack/lootable.html"><strong aria-hidden="true">17.2.</strong> LootTable</a></li></ol></li><li class="chapter-item expanded "><a href="datagnerator/intro.html"><strong aria-hidden="true">18.</strong> Data Generator</a></li><li class="chapter-item expanded "><a href="command/command.html"><strong aria-hidden="true">19.</strong> Command</a></li><li class="chapter-item expanded "><a href="advancements/intro.html"><strong aria-hidden="true">20.</strong> Advancements</a></li><li class="chapter-item expanded "><a href="configure/configure.html"><strong aria-hidden="true">21.</strong> Configure</a></li><li class="chapter-item expanded "><a href="potion/intro.html"><strong aria-hidden="true">22.</strong> Potion</a></li><li class="chapter-item expanded "><a href="paticles/intro.html"><strong aria-hidden="true">23.</strong> Paticle</a></li><li class="chapter-item expanded "><a href="sounds/intro.html"><strong aria-hidden="true">24.</strong> Sound</a></li><li class="chapter-item expanded "><a href="io/intro.html"><strong aria-hidden="true">25.</strong> User Input</a></li><li class="chapter-item expanded "><a href="compatible/intro.html"><strong aria-hidden="true">26.</strong> Compatibiilty</a></li><li class="chapter-item expanded "><a href="at/intro.html"><strong aria-hidden="true">27.</strong> Access Transformer</a></li><li class="chapter-item expanded "><a href="coremode/intro.html"><strong aria-hidden="true">28.</strong> CoreMod</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Boson 1.16 Modding Tutorial</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introducation"><a class="header" href="#introducation">Introducation</a></h1>
<p>I’m not a native English Speaker. So that, this tutorial may have a lot of grammar and words problem. If you find any problem please tell me.</p>
<p>If you have any question or feedback, welcome join my <a href="https://discord.gg/D5z3Wnq">Discord Server</a> .</p>
<h2 id="license"><a class="header" href="#license">License</a></h2>
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-is-forge"><a class="header" href="#what-is-forge">What is Forge?</a></h1>
<p>This tutorial is a mod development tutorial based on Forge, so it's natural to answer the question, &quot;What is Forge?</p>
<p>At first glance, this doesn't seem like a question at all, “Forge? Isn't Forge just Forge?” The first thought that comes to your inner mind when you see this question is probably this.</p>
<p>But it's necessary to answer this question, and I'm going to talk a little bit about what Forge is and the history of Forge. This may seem unrelated to our tutorial, but it is actually the &quot;Lore&quot; of mod development and learning it will help you communicate with others better.</p>
<p>We have to start with Minecraft itself, but first we have to make it clear that Minecraft is a commercial software written in Java. This means two things: first, Minecraft is relatively easy to modify, and second, the code itself is not open source and is obfuscated. Early on in Minecraft's history, because Mojang never provided an official API<sup class="footnote-reference"><a href="#1">1</a></sup> for Minecraft, the &quot;Mod Coder Pack&quot; project was born (hereinafter referred to as MCP).</p>
<p>Remember what I said earlier about the two features of Minecraft that MCP uses to implement a set of tools that allow developers to modify the content of Minecraft jar packs directly?</p>
<p>So <code>srg name</code>, <code>notch name</code> and <code>mcp name</code> were born.</p>
<p>So what are these three?</p>
<p>The first is the <code>notch name</code>, which is a name that Minecraft has directly decompiled and obfuscated, and is usually a meaningless alphanumeric combination. You can tell from the name Notch that it comes directly from Minecraft (<del>and the grudge against Notch</del>), for example <code>u</code> is a typical <code>notch name</code>.</p>
<p>Here is an example for <code>notch name</code></p>
<pre><code class="language-java">public class cbw extends cbq {
   public int u() {
      return 0;
   }

   public int t() {
      return 127;
   }
}
</code></pre>
<p>Next is the <code>srg name</code>, which is a one-to-one correspondence with the <code>notch name</code>, and <code>srg name</code> will not change from one version to the next. The reason it is called <code>srg name</code>(<code>srg</code> meaning Searge) is to commemorate <a href="https://twitter.com/SeargeDP">the leader</a> of the MCP project, Searge. There are corresponding prefixes and suffixes to distinguish Searge and Notch names. Take the above <code>u</code> as an example, its <code>srg name</code> is <code>func_214968_u</code>.</p>
<pre><code class="language-java">public class NetherGenSettings extends GenerationSettings {
   public int func_214968_u() {
      return 0;
   }

   public int func_214967_t() {
      return 127;
   }
}
</code></pre>
<p>Finally there's the <code>mcp name</code>, the name we come across most in mod development. In <code>mcp name</code>, the code is already readable. It's the same as the names we use in our normal java programs. But the <code>mcp name</code> is subject to change. For example, the <code>func_214968_u</code> above has an <code>mcp name</code> of <code>getBedrockFloorHeight</code>. The class name in <code>mcp name</code> is the same as the class name in <code>srg name</code>.</p>
<pre><code class="language-java">public class NetherGenSettings extends GenerationSettings {
   public int getBedrockFloorHeight() {
      return 0;
   }

   public int getBedrockRoofHeight() {
      return 127;
   }
}
</code></pre>
<p>As time went on, mod developers realized that modding Jar files directly to write mods was too crude, and that mod-to-mod compatibility was virtually non-existent. So Forge was born.</p>
<p>Forge was actually a set of third-party APIs implemented by modifying the Minecraft way, and as time went on, MCP is now dead (some of MCP's tools are still alive). In addition to the Forge set of APIs, Fabric is also in the limelight, and Forge itself underwent a rewrite after Minecraft 1.13 arrived, introducing a number of APIs for functional programming.</p>
<p>So how did Forge use the three names we mentioned earlier?</p>
<p>After you install Forge, everything in the game will be decompiled into <code>srg names</code> to run, and your compiled mods will also be obfuscated into <code>srg names</code> to make sure it runs properly.</p>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>API (Application programming interface) is a mechanism provided by a program that allows a third party to modify or add functionality.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-minecraft-works"><a class="header" href="#how-minecraft-works">How minecraft works</a></h1>
<p>This section is very important in that you must build up a model image of Minecraft running in your own brain, which will help you understand the concepts covered later.</p>
<p>In this section, I'll go over how Minecraft works in general, and a very important concept: the &quot;sides&quot;.</p>
<p>Minecraft generally belongs to &quot;C/S (Client/Server) Architecture&quot;. So what is &quot;server&quot; and what is &quot;client&quot;?</p>
<p>The name actually gives a general idea of what it means, the &quot;server&quot; is used to provide the service, and the &quot;client&quot; is used directly by the user. So how are these two sides represented in Minecraft?</p>
<p>Actually, there are four sides in Minecraft.</p>
<blockquote>
<p>When we say “client” or “server”, it usually follows with a fairly intuitive understanding of what part of the game we’re talking about. After all, a client is what the user interacts with, and a server is where the user connects for a multiplayer game. Easy, right?</p>
<p>As it turns out, there can be some ambiguity even with two such terms. Here we disambiguate the four possible meanings of “client” and “server”:</p>
<ul>
<li>Physical client - The <em>physical client</em> is the entire program that runs whenever you launch Minecraft from the launcher. All threads, processes, and services that run during the game’s graphical, interactable lifetime are part of the physical client.</li>
<li>Physical server - Often known as the dedicated server, the <em>physical server</em> is the entire program that runs whenever you launch any sort of <code>minecraft_server.jar</code> that does not bring up a playable GUI.</li>
<li>Logical server - The <em>logical server</em> is what runs game logic: mob spawning, weather, updating inventories, health, AI, and all other game mechanics. The logical server is present within the physical server, but is also can run inside a physical client together with a logical client, as a single player world. The logical server always runs in a thread named the <code>Server Thread</code>.</li>
<li>Logical client - The <em>logical client</em> is what accepts input from the player and relays it to the logical server. In addition, it also receives information from the logical server and makes it available graphically to the player. The logical client runs in the <code>Client Thread</code>, though often several other threads are spawned to handle things like audio and chunk render batching.</li>
</ul>
<p>In the Minecraft codebase, the physical side is represented by an enum called <code>Dist</code>, while the logical side is represented by an enum called <code>LogicalSide</code>.</p>
<p>— <a href="https://mcforge.readthedocs.io/en/1.14.x/concepts/sides/">Forge Doc</a></p>
</blockquote>
<p>It's worth noting that the distinction between client and server here is only logical. In fact if you are in single player mode, there will be both a server and a client on your computer, and they are in different threads<sup class="footnote-reference"><a href="#1">1</a></sup>. But when you connect to a server, only the client exists on your computer and the server is moved to a remote server.</p>
<p>The following diagram roughly explains how Minecraft works.</p>
<p><img src="introduction/how-minecraft-works.assets/How_minecraft_work.svg" alt="How_minecraft_work" /></p>
<p>When you see this picture, you may wonder why the client has a data model when the server is responsible for the game logic. In fact, the &quot;client-side data model&quot; here is just a copy of the &quot;server-side data model&quot;, although they have separate game ticks and share a lot of the same code, but the final logic is still the server-side prevails.</p>
<p>As we mentioned before, the client and server are independent, but they inevitably need to synchronize data, and in Minecraft, all client and server data synchronization is done through network packets. In most of the cases, the original version has already implemented a method to synchronize the data, we just need to call the method that has already been implemented, but in some cases, the original version does not implement the corresponding function, or it is not suitable to use the function provided by the original version, we have to create and send network packets to complete the data synchronization.</p>
<p>So the next question is, how do we distinguish in our code whether we are on the client side or the server side?</p>
<blockquote>
<h3 id="worldisremote"><a class="header" href="#worldisremote"><code>world.isRemote</code></a></h3>
<p>This boolean check will be your most used way to check sides. Querying this field on a <code>World</code> object establishes the <strong>logical</strong> side the world belongs to. That is, if this field is <code>true</code>, the world is currently running on the logical client. If the field is <code>false</code>, the world is running on the logical server. It follows that the physical server will always contain <code>false</code> in this field, but we cannot assume that <code>false</code> implies a physical server, since this field can also be <code>false</code> for the logical server inside a physical client (in other words, a single player world).</p>
<p>Use this check whenever you need to determine if game logic and other mechanics should be run. For example, if you want to damage the player every time they click your block, or have your machine process dirt into diamonds, you should only do so after ensuring <code>world.isRemote</code> is <code>false</code>. Applying game logic to the logical client can cause desynchronization (ghost entities, desynchronized stats, etc.) in the lightest case, and crashes in the worst case.</p>
<p>This check should be used as your go-to default. Aside from <code>DistExecutor</code>, rarely will you need the other ways of determining side and adjusting behavior.</p>
<h3 id="distexecutor"><a class="header" href="#distexecutor"><code>DistExecutor</code></a></h3>
<p>Considering the use of a single “universal” jar for client and server mods, and the separation of the physical sides into two jars, an important question comes to mind: How do we use code that is only present on one physical side? All code in <code>net.minecraft.client</code> is only present on the physical client, and all code in <code>net.minecraft.server.dedicated</code> is only present on the physical server. If any class you write references those names in any way, they will crash the game when that respective class is loaded in an environment where those names do not exist. A very common mistake in beginners is to call <code>Minecraft.getMinecraft().&lt;doStuff&gt;()</code> in block or tile entity classes, which will crash any physical server as soon as the class is loaded.</p>
<p>How do we resolve this? Luckily, FML has <code>DistExecutor</code>, which provides various methods to run different methods on different physical sides, or a single method only on one side.</p>
<p>Note</p>
<p>It is important to understand that FML checks based on the <strong>physical</strong> side. A single player world (logical server + logical client within a physical client) will always use <code>Dist.CLIENT</code>!</p>
<h3 id="thread-groups"><a class="header" href="#thread-groups">Thread Groups</a></h3>
<p>If <code>Thread.currentThread().getThreadGroup() == SidedThreadGroups.SERVER</code> is true, it is likely the current thread is on the logical server. Otherwise, it is likely on the logical client. This is useful to retrieve the <strong>logical</strong> side when you do not have access to a <code>World</code> object to check <code>isRemote</code>. It <em>guesses</em> which logical side you are on by looking at the group of the currently running thread. Because it is a guess, this method should only be used when other options have been exhausted. In nearly every case, you should prefer checking <code>world.isRemote</code> to this check.</p>
<h3 id="fmlenvironmentdist-and-onlyin"><a class="header" href="#fmlenvironmentdist-and-onlyin"><code>FMLEnvironment.dist</code> and <code>@OnlyIn</code></a></h3>
<p><code>FMLEnvironment.dist</code> holds the <strong>physical</strong> side your code is running on. Since it is determined at startup, it does not rely on guessing to return its result. The number of use cases for this is limited, however.</p>
<p>Annotating a method or field with the <code>@OnlyIn(Dist)</code> annotation indicates to the loader that the respective member should be completely stripped out of the definition not on the specified <strong>physical</strong> side. Usually, these are only seen when browsing through the decompiled Minecraft code, indicating methods that the Mojang obfuscator stripped out. There is little to no reason for using this annotation directly. Only use it if you are overriding a vanilla method that already has <code>@OnlyIn</code> defined. In most other cases where you need to dispatch behavior based on physical sides, use <code>DistExecutor</code> or a check on <code>FMLEnvironment.dist</code> instead.</p>
<p>— <a href="https://mcforge.readthedocs.io/en/1.14.x/concepts/sides/#performing-side-specific-operations">Forge Dock</a></p>
</blockquote>
<hr />
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Thread is one of the units of program scheduling, being in different threads means that the logic and data of these two are independent of each other and can only be synchronized by specific methods. Specifically, the server is in the &quot;Server thread&quot; and the client is in the &quot;Render thread&quot;, if you've ever watched the output log when Minecraft starts, you should see these two words.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development-model"><a class="header" href="#development-model">Development Model</a></h1>
<p>In this section, we're going to talk about what the Minecraft mod development model looks like in rough terms, and understanding this model will help you understand what a lot of the actions in mod development are for.</p>
<p>In my opinion, Minecraft mod development basically follows the &quot;event-driven model&quot;, and we won't go into detail about what the &quot;event-driven model&quot; is here, you just need to have an emotional understanding of it.</p>
<p>So what does Minecraft's &quot;event-driven mode&quot; look like? To answer this question, we need to clarify three concepts: &quot;event&quot;, &quot;bus&quot; and &quot;event handler&quot;.</p>
<p>What is an &quot;event&quot; in the first place? As the word implies, &quot;event&quot; means &quot;something happened&quot;. For example, &quot;When a block is broken&quot; is an event, &quot;When a player dies&quot; is an event, but the examples are very specific, and events can be very abstract.</p>
<p>What is an &quot;event handler&quot; next? An event handler is a function used to handle &quot;events&quot;. We can create an event handler to handle a “block destruction event&quot;, which reads &quot;recreate a block&quot;, and we can register an event handler to handle a &quot;player death event&quot;, which reads &quot;place a tombstone&quot;.</p>
<p>When an bus occurs, the information of the event will be sent to the bus, and then the bus will select the event handler which has listened to the event and execute the event handler.</p>
<p>![delepment model](development-model.assets/delepment model.svg)</p>
<p>Note that the events and event handlers in this diagram are not in order.</p>
<p>There are two buses in Forge development, <code>Mod bus</code> and <code>Forge bus</code>. All initialization related events are in <code>Mod bus</code> and all other events are in <code>Forge bus</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="core-conception"><a class="header" href="#core-conception">Core Conception</a></h1>
<p>In this subsection, I will cover a few concepts that are not difficult to understand but are very important.</p>
<h2 id="register"><a class="header" href="#register">register</a></h2>
<p>If you want to add some content to Minecraft, then one of the things you have to do is register. Registration is a mechanism that tells the game itself which things are available. The things you need to register can basically be broken down into two parts: a registration name and an instance.</p>
<h2 id="resourcelocation"><a class="header" href="#resourcelocation">ResourceLocation</a></h2>
<p>You can think of ResourceLocation as a specially formatted string that looks something like this: <code>minecraft:textures/block/stone.png</code>, a ResouceLocation specifies a specific file under the resource bundle. For example, this ResourceLocation represents the material image of the stone in the original resource pack. There will be one or more domains. The second half of the colon corresponds one-to-one with the directory structure within the <code>assets</code> folder. In a way, ResourceLocation is a special URL.</p>
<h2 id="models-and-textures"><a class="header" href="#models-and-textures">Models and Textures</a></h2>
<p>In the game 3d objects basically have their model, the model and textures together define the specific look of an object. The model is the equivalent of bones, and the material is the equivalent of skin. For the most part, your materials are png images, make sure your material background is opaque, and secondly don't use semi-transparent pixels in your materials, it can be unpredictable and problematic.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development-environment"><a class="header" href="#development-environment">Development Environment</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="setup-environment"><a class="header" href="#setup-environment">Setup Environment</a></h1>
<h2 id="required-tools"><a class="header" href="#required-tools">Required Tools</a></h2>
<ul>
<li><a href="https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot">AdoptOpenJDK8-HotSpot</a> For compatibility reasons, <strong>make sure you have JDK8 HotSpot</strong> installed.</li>
<li><a href="https://www.jetbrains.com/idea/download/">IntelliJ IDEA 2020 Community Edition</a>, please install it yourself after the download is complete.</li>
<li><a href="https://files.minecraftforge.net/maven/net/minecraftforge/forge/1.16.3-34.1.0/forge-1.16.3-34.1.0-mdk.zip">Forge MDK 1.16.3 34.1.0</a>, download and extract it to your favorite folder.</li>
</ul>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>Minecraft Forge is a Gradle project, Gradle is a project builder tool, its main role is responsible for the project's dependency management, build and other functions. Dependency management refers to help you automatically download and configure the libraries you use in development, that is, the code written by others to facilitate your own development. Build refers to the mods you write into a package that others can install as a jar file.</p>
<p>Forge officially wrote a plug-in called ForgeGradle (henceforth referred to as FG) to take care of the configuration of the entire mod development environment.</p>
<h2 id="start-configuring"><a class="header" href="#start-configuring">Start Configuring</a></h2>
<p><strong>It is highly recommended to use the official launcher to start the 1.16.3 game once before starting the configuration to reduce network downloads during the environment configuration process and speed up the speed and success of the environment configuration</strong>.</p>
<p>First select <code>Open or Import</code> for the startup page.</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928111032977.png" alt="image-20200928111032977" /></p>
<p>Select the <code>build.gradle</code> in the directory where your MDK was extracted to open it.</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928111120002.png" alt="image-20200928111120002" /></p>
<p>Select as `Open As Project'</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928111131905.png" alt="image-20200928111131905" /></p>
<p>Once opened, it will take longer or shorter to import, depending on your network and your own computer.</p>
<p>When the import is complete, click the <code>build</code> panel at the bottom, and the green tick on the left side indicates the import was successful.</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928111716782.png" alt="image-20200928111716782" /></p>
<p>Before proceeding to the next step, I recommend adjusting IntelliJ's settings for Gradle to speed up the game launch afterwards.</p>
<p>Open the IntelliJ settings interface, find the <code>Gradle</code> tab, change the <code>Build and using</code> from <code>Gradle</code> to <code>IntelliJ IDEA</code>, and click <code>Apply</code> to save.</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928112057176.png" alt="image-20200928112057176" /></p>
<p>By default, MDK sets the logging level is <code>debug</code> level, the output of this logging level is too much, it is not convenient for us to view the logs in the development, it is recommended to adjust to <code>info</code> level.</p>
<p>Open your <code>build.gradle</code> file and change all <code>property 'forge.logging.console.level', ‘debug’</code> to <code>property 'forge.logging.console.level', ‘info’</code>.</p>
<p>When you are done, click on the <code>Gradle</code> panel on the right side of the run, and select <code>genIntelliJRuns</code> under <code>fg_runs</code> in <code>Tasks</code>.</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928112244157.png" alt="image-20200928112244157" /></p>
<p>In this step, some of the remaining dependencies will be automatically downloaded, as well as Minecraft resource files. If you've launched the corresponding version of Minecraft with the official launcher before, this process will automatically copy the local cache, which will drastically reduce the download time. If you get an error during this process, basically just re-run <code>genIntelliJRuns</code> and it will fix it.</p>
<p>Similarly, when &quot;Green Tick&quot; is displayed on the left side, the configuration is successful.</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928112443232.png" alt="image-20200928112443232" /></p>
<p>Click <code>Run=&gt;Edit Configurations</code> at the top.</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928112521319.png" alt="image-20200928112521319" /></p>
<p>Select the three items under <code>Application</code> and delete all tasks from <code>Before Launch</code> except <code>Build</code>.</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928112744599.png" alt="image-20200928112744599" /></p>
<p><img src="devenvironment/setup-environment.assets/image-20200928112800414.png" alt="image-20200928112800414" /></p>
<p>Then select <code>runClient</code> to start the game.</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928112852625.png" alt="image-20200928112852625" /></p>
<p>You can see that our game started successfully, and if you've followed the tutorial before and adjusted Gradle's settings, it shouldn't be very slow.</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928113626808.png" alt="image-20200928113626808" /></p>
<p>To make it easier to create directories and sub-packages later, unselect &quot;Compose Package&quot; and &quot;Compress Empty Middleware&quot; as shown below.</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928113738234.png" alt="image-20200928113738234" /></p>
<h2 id="jdk-common-errors"><a class="header" href="#jdk-common-errors">JDK Common Errors</a></h2>
<p>If you have multiple JDKs on your computer, it's possible that the JDK automatically selected by IntelliJ is wrong, making it impossible to import, and you'll need to manually modify the project's JDK and the JDK needed to run Gradle.</p>
<p>Select <code>Porject Strucutre</code> under <code>File</code>.</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928113803025.png" alt="image-20200928113803025" /></p>
<p>Changing the project JDK to version 1.8</p>
<p><img src="devenvironment/setup-environment.assets/image-20200928113851675.png" alt="image-20200928113851675" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="introduce-environment"><a class="header" href="#introduce-environment">Introduce Environment</a></h1>
<p>In this section, I'll describe the series of files and folders generated by Mod development, and what they do.</p>
<p>The first and most important file is <code>build.gradle</code>, which is the configuration file for Gradle. It specifies how the Mod project is built, what dependencies it has, and how it is configured.</p>
<p>One of the <code>minecraft</code> closures is about the configuration of Forge Gradle.</p>
<p>The <code> mappings channel: 'snapshot', version: '20200514-1.16</code> configuration specifies the version of the mappings file to be used in this project, and I strongly recommend that you update the mappings file frequently. So what is a mappings file? Do you remember the <code>srg name</code> and <code>mcp name</code> that we mentioned before? The purpose of the mapping file is to provide a translation between <code>srg name</code> and <code>mcp name</code>.</p>
<p><code>channel</code> means the category of the mapping file, and in most cases you should use <code>snapshot</code> to make sure your mcp name is up to date. In most cases, you should use <code>snapshot</code> (snapshot version) to make sure your mcp name is up to date, and then <code>version</code> is the specific version, in most cases a higher version of the game is compatible with a lower version of mapping, although the version number should not be too far off. There are also two other parameters that are commented out, which we'll leave aside for now.</p>
<p>Another thing you might use is <code>dependencies</code> configuration, if your mod needs to depend on another java library or another mod, you need to add content here, the specific way to add, the comments have already given a detailed example, so I won't say more here. The <code>minecraft 'net.minecraftforge:forge:1.16.3-34.1.0'</code> specifies the Forge version you need to use, if you want to upgrade the Forge version, you can modify the content of this line, the format of the version is <code>net.minecraftforge:forge:game_version-forge_version</code>.</p>
<p>The rest of the file is just like a normal <code>build.gradle</code>, if you want to know more about it, we recommend to learn Gradle.</p>
<p>The next folder is the <code>src</code> folder, this is where we put our code and resource files, the <code>main</code> folder is where we run the code and files, and the <code>test</code> folder is where we put the test code. The <code>main</code> folder is where we put our code, and the <code>resources</code> folder is where we put our material models and other mods, except for the code.</p>
<p>This is basically a standard <code>.minecraft</code> folder. It's worth noting that because the development environment has both Minecraft client and server code, they both share the <code>run</code> directory.</p>
<p>The rest of the <code>build</code> directory is worth mentioning. When you run the <code>build</code> task in the Gradle panel, your mods will be packed up and placed under <code>build=&gt;libs</code>.</p>
<p>All remaining folders and files with <code>gradle</code> in them are required for Gradle to run and configure, please do not delete them.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="customize-mod-info"><a class="header" href="#customize-mod-info">Customize Mod Info</a></h1>
<p>From this section on we'll be officially writing our mod!</p>
<h2 id="updating-mappings"><a class="header" href="#updating-mappings">Updating Mappings</a></h2>
<p>**Forge's Mapping system is in the process of migration, the content of the mapping file will be updated when the MMS system is released, the version we are currently using is <code>20200916-1.16.2</code> **</p>
<p>We need change <code>mappings channel: 'snapshot', version: '20200514-1.16’</code> in <code>build.gradle</code> to <code>mappings channel: 'snapshot', version: '20200916-1.16.2’</code>。</p>
<p><img src="devenvironment/customize-mod-info.assets/image-20200928114420876.png" alt="image-20200928114420876" /></p>
<p>Then click the re-import button in the right Gradle panel to re-import the project, because the <code>build.gradle</code> file is very important, please be careful not to correct it.</p>
<p><img src="devenvironment/customize-mod-info.assets/image-20200928114634037.png" alt="image-20200928114634037" /></p>
<p>This process may involve downloading files (but not a lot), there is a chance of errors, check your <code>build.gradle</code> for errors, and try a few times.</p>
<h2 id="gradlebuild"><a class="header" href="#gradlebuild">gradle.build</a></h2>
<p>You also need to change these lines in build.gradle</p>
<pre><code class="language-groovy">version = '1.0'
group = 'com.yourname.modid' 
archivesBaseName = 'modid'
</code></pre>
<p>To:</p>
<pre><code class="language-groovy">version = '1.0'
group = 'com.github.fledgexu.boson' 
archivesBaseName = 'Boson'
</code></pre>
<p>The first line shoul be your mode’s version. The second should be your mods group name, if you don’t know how to naming it, please read <a href="http://maven.apache.org/guides/mini/guide-naming-conventions.html">this</a>.</p>
<p>The last, archivesBaseName, should the Jar name of Your mod. In there, i put the “Boson”.</p>
<h2 id="configuration"><a class="header" href="#configuration">Configuration</a></h2>
<p>First we select all the directories and files in the <code>java</code> folder and then right-click to delete the default classes under the Java package.</p>
<p><img src="devenvironment/customize-mod-info.assets/image-20200928164532729.png" alt="image-20200928164532729" /></p>
<p>Then right-click again to create a new package</p>
<p>By default your package name should be the backwards spelling of your domain name, because I don't want to use my own domain name as an example, so here I'm filling in <code>com.tutorial.boson</code>.</p>
<p><img src="devenvironment/customize-mod-info.assets/image-20200928164952860.png" alt="image-20200928164952860" /></p>
<p><img src="devenvironment/customize-mod-info.assets/image-20200928165013147.png" alt="image-20200928165013147" /></p>
<p><img src="devenvironment/customize-mod-info.assets/image-20200928165047184.png" alt="image-20200928165047184" /></p>
<p>Right-click to create a Java class named <code>Boson</code>.</p>
<p><img src="devenvironment/customize-mod-info.assets/image-20200928165137663.png" alt="image-20200928165137663" /></p>
<p>This <code>Boson</code> is the main class of our Mod.</p>
<p>Next, create a <code>Utils</code> class to hold some global constants.</p>
<p>The directory tree after creation is as follows.</p>
<pre><code>java
└── com
    └── tutorial
        └── boson
            ├── Boson.java
            └── Utils.java
</code></pre>
<p>Next let's go to the <code>Utils</code> class and define our <code>modid</code>, so what is your <code>modId</code>? <code>modId</code> is the unique identifier of your mod name, please note that <code>modId</code> and your mod name are not the same thing, it does not allow capital letters, nor spaces. The <code>modId</code> we've chosen here is <code>boson</code>.</p>
<pre><code class="language-java">public class Utils {
    public static final String MOD_ID = &quot;boson&quot;;
}
</code></pre>
<p>Then go to <code>Boson</code> and add a <code>@Mod()</code> comment to the top of the class name, add the <code>modid</code> we defined before. After that, we can add the following:</p>
<pre><code class="language-java">@Mod(Utils.MOD_ID)
public class Boson {
}
</code></pre>
<p>Next we need to modify <code>mods.toml</code> which is located under <code>resources/META-INF</code>. By default, IntelliJ does not syntactically highlight Toml files, so if you need syntax highlighting like I do, you can install the <code>Toml</code> plugin.</p>
<p><code>mods.toml</code> is the configuration file for our mods, where we can modify the name, introduction, etc. of our mods. There are many configuration items, if a configuration item has <code>#mandatory</code> in the comment, it means it is required, if the injection is <code>#optional</code>, it means it is optional, you can add <code>#</code> in front of the configuration item to comment out the item.</p>
<p>Becasue the most readers of this verison of Boson are English speaker. You can understand  comments. So just read the commnet to understand the function of configuration.</p>
<p>The rest are all dependencies, and Forge's official examples are clearly written, so we won't elaborate here.</p>
<p>The <code>mods.toml</code> I finished modifying is as follows:</p>
<pre><code class="language-toml">modLoader=&quot;javafml&quot;  
loaderVersion=&quot;[34,)&quot; 
license=&quot;GNU GPLv3&quot;
[[mods]]
modId=&quot;boson&quot; 
version=&quot;${file.jarVersion}&quot; 
displayName=&quot;Boson&quot;
authors=&quot;FledgeShiu&quot; 
description='''
This is Boson, the 1.16 Modding tutorial example mod.
'''
</code></pre>
<p>Now that we've finished modding our mod info, let's open the game.</p>
<p><img src="devenvironment/customize-mod-info.assets/image-20200928170338998.png" alt="image-20200928170338998" /></p>
<p>You can see that our Mod has appeared!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="item"><a class="header" href="#item">Item</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="first-item"><a class="header" href="#first-item">First Item</a></h1>
<p>From now on we will officially start writing code. First of all, a few things to say, the project's code will be open source, each section of the code links I will put at the back of the article, and for the sake of later amendments and easy to view.</p>
<p>First we have to be clear about which steps are required to create an item. The answer is three steps: create your own item and inherit the class from the original item, instantiate the item, and finally register the item into the game.</p>
<p>Note that these steps above are generic, and many custom content additions follow them.</p>
<p>Once we know the above steps, let's start adding our first item, where we'll add an Obsidian Ingot.</p>
<p>First we need to create an item class and have that class inherit the original <code>Item</code> class.</p>
<pre><code class="language-java">public class ObsidianIngot extends Item {
    public ObsidianIngot() {
        super(new Properties().group(ItemGroup.MATERIALS));
    }
}
</code></pre>
<p>The code for this class is very simple, with only one constructor.</p>
<p>The only thing worth mentioning here is <code>new Properties().group(ItemGroup.MATERIALS)</code>, this <code>Properties</code> specifies some properties of the item, such as: whether it is food or not, or which item bar the item is in in creation mode.</p>
<p>Here we have created a <code>Properties</code> and called the <code>group</code> method and passed in <code>ItemGroup. MATERIALS</code>. This adds the item to the original Miscellaneous creation mode item field, but you don't have to call the <code>group</code> method.</p>
<p>Next we need to instantiate and register the item, which used to be two separate steps, but Forge has added a mechanism called <code>DeferredRegister</code>, which makes it very easy to register an item.</p>
<pre><code class="language-java">public class ItemRegistry {
    public static final DeferredRegister&lt;Item&gt; ITEMS = DeferredRegister.create(ForgeRegistries.ITEMS, Utils.MOD_ID);
    public static final RegistryObject&lt;Item&gt; obsidianIngot = ITEMS.register(&quot;obsidian_ingot&quot;, ObsidianIngot::new);
}

</code></pre>
<p>That's all there is to register, first we create a variable of type <code>DeferredRegister&lt;Item&gt;</code> named <code>ITEMS</code>, which is a generic type indicating that the thing we need to register is the item, and then by <code>new DeferredRegister&lt;&gt;(ForgeRegistries.ITEMS Utils.MOD_ID);</code> instantiates this class, which has two arguments <code>ForgeRegistries.ITEMS</code> representing the item we want to register, and the second argument filled in should be your <code>modId</code>. We've created our registrar, and the next step is to register our item.</p>
<p>Remember what I said before? You need two things to register, one is the &quot;register name&quot;, and the other is the instance of the object you want to register, the two arguments in <code>ITEMS.register</code> correspond to these two things.</p>
<pre><code class="language-java">public static final RegistryObject&lt;Item&gt; obsidianIngot = ITEMS.register(&quot;obsidian_ingot&quot;, ObsidianIngot::new);
</code></pre>
<p>The first argument is very easy to understand, <code>obsidian_ingot</code> corresponds to the registration name, please note that the registration name here also do not use capital letters, because the second argument here needs a type is a <code>Supplier</code>, here we put directly on the <code>ObsidianIngot</code> class of the method of construction of the method reference on, if you are not familiar with this syntax, please first at least understand the Java8 functional programming related to the content.</p>
<p>You see, even though we didn't declare the variables explicitly, we still instantiated the class of our item when we registered it.</p>
<p>There's one last step left and we're ready to add items successfully.</p>
<pre><code class="language-java">@Mod(Utils.MOD_ID)
public class Neutrino {
    public Neutrino() {
        ItemRegistry.ITEMS.register(FMLJavaModLoadingContext.get().getModEventBus());
    }
}
</code></pre>
<p>We have added a line of code to the build method of the <code>Mod</code> main class, <code>FMLJavaModLoadingContext.get().getModEventBus();</code> which means get <code>Mod</code> bus, if you don't know what <code>Mod</code> bus is please scroll ahead. And <code>ITEMS.register(FMLJavaModLoadingContext.get().getModEventBus());</code> means to register <code>ITEMS</code> into <code>Mod</code> bus. Why register <code>ITEMS</code> into the <code>Mod</code> bus? The reason is that <code>DeferredRegister</code> is based on an event system implementation.</p>
<p>At this point, the code needed to add the items we want to add has been written, so open the game and take a look.</p>
<p><img src="item/first-item.assets/image-20200928175346817.png" alt="image-20200928175346817" /></p>
<p><img src="item/first-item.assets/image-20200928175414243.png" alt="image-20200928175414243" /></p>
<p>The item is still ugly, but that's our first item.</p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/first_item">Source Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="model-and-texture"><a class="header" href="#model-and-texture">Model and Texture</a></h1>
<p>In the previous section we have successfully added the first item, which was of course ugly, but in this section we will add models and materials to it.</p>
<p>First create a folder under <code>resources</code> in the following directory.</p>
<pre><code>resources
├── META-INF
│   └── mods.toml
├── assets
│   └── boson
│       ├── models
│       │   └── item
│       └── textures
│           └── item
└── pack.mcmeta
</code></pre>
<p>In fact, <code>assets</code> is a resources package that belongs to a mod. For the specific directory structure, readers can look for the current game version of the material package tutorial to learn.</p>
<p>Next let's add the model file, first create a JSON file with the same registration name as the item you added in <code>models</code> in <code>item</code>, in our case <code>obsidian_ingot.json</code>.</p>
<p>It reads as follows:</p>
<pre><code class="language-json">{
  &quot;parent&quot;: &quot;item/generated&quot;,
  &quot;textures&quot;: {
    &quot;layer0&quot;: &quot;boson:item/obsidian_ingot&quot;
  }
}
</code></pre>
<p>It's pretty simple here: <code>&quot;parent&quot;: &quot;item/generated&quot;</code> specifies what the <code>parent</code> of this model is, and <code>&quot;layer0&quot;: &quot;boson:item/obsidian_ingot&quot;</code> specifies the specific textures. <code>boson:</code> means this is under our own <code>assets</code> file, and <code>item/obsidian_ingot</code> means it's the image <code>textures/item/obsidian_ingot.png</code>.</p>
<p>You can read the detailed format of the model file yourself <a href="https://minecraft.gamepedia.com/Model">Wiki</a></p>
<p>Next, we place our texture file under <code>textures/item/obsidian_ingot.png</code>, please note that the ratio of the texture file is 1:1, and preferably no larger than 32x32 pixels.</p>
<img src="item/./model-and-texture.assets/obsidian_ingot.png" style="zoom:300%;" />
<p><strong>The loading flow here is: the game first gets the corresponding model file according to your registration name, then load the corresponding material file through the <code>textures</code> in the model file.</strong></p>
<p>The completed directory tree is created as follows:</p>
<pre><code>resources
├── META-INF
│   └── mods.toml
├── assets
│   └── boson
│       ├── models
│       │   └── item
│       │       └── obsidian_ingot.json
│       └── textures
│           └── item
│               └── obsidian_ingot.png
└── pack.mcmeta

</code></pre>
<p>After launching the game you'll see we have the model and material items.</p>
<p><img src="item/model-and-texture.assets/image-20200427113433338.png" alt="image-20200427113433338" /></p>
<h2 id="modding-crush-course"><a class="header" href="#modding-crush-course">Modding Crush Course</a></h2>
<p>A handy tool for making models of things like Blocks and others: <a href="https://blockbench.net/">BlockBench</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="item-and-itemstack"><a class="header" href="#item-and-itemstack">Item and ItemStack</a></h1>
<p>Here, I want to talk about the distinction between <code>Item</code> and <code>ItemStack</code>. Let's start with <code>ItemStack</code> and think step by step about why they need to be distinguished.</p>
<p>As the name implies, <code>ItemStack</code> is an Item Stack. In fact, in the game, all the items in the item slots are individual <code>ItemStacks</code>.</p>
<p><img src="item/item-and-itemstack.assets/image-20200428080226198.png" alt="image-20200428080226198" /></p>
<p>For example, in this case, there are three <code>ItemStack</code>s.</p>
<p>But this begs the question, although one set of apples is different in number from the second set, that number doesn't actually affect their actual performance. They can also be eaten, and the effect of the reply is the same when eaten.</p>
<p>These are the same as <code>Properties</code> or <code>Default Behavior</code>, and the same logic should be extracted from them, which is called <code>Item</code>.</p>
<p>Again, there are only two kinds of <code>Items</code> here: apples and iron swords.</p>
<p>You can imagine that <code>ItemStack</code> is a wrapper for <code>Item</code>, which provides additional attributes such as quantity, NBT tags, etc. </p>
<p>It's worth noting here that just because <code>ItemStack</code> is zero, it doesn't mean it's null, so you have to use the <code>isEmpty()</code> method under <code>ItemStack</code> to determine if it's null.</p>
<p><code>ItemStack</code> contains <code>Item</code> is actually the same instance, the reason is very simple, if it is not the same instance, it will pointlessly produce many of the same instance, for optimization purposes, of course, is appropriate to share an instance, which also means that you can use<code>result.getItem() == Items</code> to detect which <code>Item</code> is stored in ItemStack.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="item-group"><a class="header" href="#item-group">Item Group</a></h1>
<p>In this section, we'll look at how to create a creative tab of your own, very simply.</p>
<p>First create a class, let it inherit <code>ItemGroup</code>, <code>ItemGroup</code> on behalf of the creative bar, because we need to create a creative bar, naturally need to inherit it.</p>
<p>It reads as follows:</p>
<pre><code class="language-java">public class ObsidianGroup extends ItemGroup {
    public ObsidianGroup() {
        super(&quot;obsidian_group&quot;);
    }

    @Override
    public ItemStack createIcon() {
        return new ItemStack(ItemRegistry.obsidianIngot.get());
    }
}
</code></pre>
<p>The first method is used to set the title name of the creative bar, and the second provides the icon for the creative bar. Here we have used Obsidian Ingot as the icon, please note that the return value type of this function is <code>ItemStack</code>, not <code>Item</code>.</p>
<p>Then we need to instantiate the class and create <code>ModGroup</code>.</p>
<pre><code class="language-java">public class ModGroup {
    public static final ItemGroup itemGroup = new ObsidianGroup();
}
</code></pre>
<p>This is where we store instances of <code>ItemGroup</code> and its subclasses (such as <code>ObsidianGroup</code>, which we created earlier). Each instance here represents a creative bar in the game.</p>
<p>It's also very easy to call the creative tab after you've created it, let's take Obsidian Ingot for example.</p>
<pre><code class="language-java">public class ObsidianIngot extends Item {
    public ObsidianIngot() {
        super(new Properties().group(ModGroup.itemGroup));
    }
}
</code></pre>
<p>At this point open the game our Obsidian Ingot should be in the designated creative tab .</p>
<p><img src="item/item-group.assets/image-20200427211358242.png" alt="image-20200427211358242" /></p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/group">Soruce Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="food"><a class="header" href="#food">Food</a></h1>
<p>In this section we will add a new food to the Minecraft world: the Obsidian Apple, after eating this apple you can reply to hunger, but it will be poisoned. Contrary to what many people think, food is not a separate thing, it's just a special item for Minecraft.</p>
<p>Again, let's create a class that inherits <code>Item</code>.</p>
<pre><code class="language-java">public class ObsidianApple extends Item {
    private static final Food food = (new Food.Builder())
            .saturation(10)
            .hunger(20)
            .effect(() -&gt; new EffectInstance(Effects.POISON, 3 * 20, 1), 1)
            .build();

    public ObsidianApple() {
        super(new Properties().food(food).group(ItemGroup.FOOD));
    }
}
</code></pre>
<p>We explain one line by one line.</p>
<p>We created a variable of type <code>Food</code>, which specifies some properties of this food, such as: <code>saturation</code> method sets the satiety level, <code>hunger</code> sets the hunger level to be restored, and <code>effect</code> method sets the potion effect that the food may have when eaten .Here we set the effect to <code>Poisoning</code>, with a duration of 60 ticks and potion level 1. The second parameter represents the likelihood of the effect triggering (think of the original raw chicken), here we set it to <code>1</code> for 100%.</p>
<p>Next up is the construction method, which I'm sure you're already familiar with.The only thing new is the <code>.food(food)</code> method, which indicates that the item is a food, and we ended up putting the item in the <code>food</code> creative tab.</p>
<p>Then we register our food under the name <code>obsidian_apple</code>:</p>
<pre><code class="language-java">public class ItemRegistry {
    public static final DeferredRegister&lt;Item&gt; ITEMS = DeferredRegister.create(ForgeRegistries.ITEMS, Utils.MOD_ID);
    public static final RegistryObject&lt;Item&gt; obsidianApple = ITEMS.register(&quot;obsidian_apple&quot;, ObsidianApple::new);
}
</code></pre>
<p>Then add the model <code>obsdian_ingot.json</code>:</p>
<pre><code class="language-json">{
  &quot;parent&quot;: &quot;item/generated&quot;,
  &quot;textures&quot;: {
    &quot;layer0&quot;: &quot;boson:item/obsidian_apple&quot;
  }
}
</code></pre>
<p>Then the textures <code>obsidian_apple.png</code>.</p>
<img src="item/food.assets/obsidian_apple.png" alt="obsidian_apple" style="zoom:300%;" />
<p>Take out your apples and try to eat them.</p>
<p><img src="item/food.assets/image-20200427165949417.png" alt="image-20200427165949417" /></p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/food">Source Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sword"><a class="header" href="#sword">Sword</a></h1>
<p>In this section, we'll explain how to create a new sword, and here we'll use the Obsidian Sword as an example.</p>
<p>First we have to create an <code>ItemTier</code>. The <code>ItemTier</code> is what we call tool levels, such as <code>Diamond Level</code>, <code>Iron Level</code> .</p>
<pre><code class="language-java">public enum ModItemTier implements IItemTier {

    OBSIDIAN(3, 2000, 10.0F, 4.0F, 30, () -&gt; {
        return Ingredient.fromItems(ItemRegistry.obsidianIngot.get());
    });

    private final int harvestLevel;
    private final int maxUses;
    private final float efficiency;
    private final float attackDamage;
    private final int enchantability;
    private final LazyValue&lt;Ingredient&gt; repairMaterial;

     ModItemTier(int harvestLevelIn, int maxUsesIn, float efficiencyIn, float attackDamageIn, int enchantabilityIn, Supplier&lt;Ingredient&gt; repairMaterialIn) {
        this.harvestLevel = harvestLevelIn;
        this.maxUses = maxUsesIn;
        this.efficiency = efficiencyIn;
        this.attackDamage = attackDamageIn;
        this.enchantability = enchantabilityIn;
        this.repairMaterial = new LazyValue&lt;&gt;(repairMaterialIn);
    }

    @Override
    public int getMaxUses() {
        return this.maxUses;
    }

    @Override
    public float getEfficiency() {
        return this.efficiency;
    }

    @Override
    public float getAttackDamage() {
        return this.attackDamage;
    }

    @Override
    public int getHarvestLevel() {
        return this.harvestLevel;
    }

    @Override
    public int getEnchantability() {
        return this.enchantability;
    }

    @Override
    public Ingredient getRepairMaterial() {
        return this.repairMaterial.getValue();
    }

}
</code></pre>
<p>Again, this may seem like an awful lot of content, but it's not as complicated as you might think.</p>
<p>Here we create a <code>ModItemTier</code> class and inherit the <code>IItemTier</code> interface, the reason is that the original <code>net.minecraft.item.ItemTier</code> is implemented in enum, we can't add anything to it ourselves, so we have to implement it ourselves, we basically just copy it here. The original implementation, with all the properties of the original, is also in this class, so you can refer to it.</p>
<p>As for the various methods in this enum, I'm not going to explain them here, but with the experience of several previous items, I'm sure the reader reading this will have the ability to guess the function's function by its name.</p>
<p>Similarly, we create an <code>ObsidianSword</code>, but this time the inheritance class is a little different, this time we directly inherit the original <code>SwordItem</code> class, if you look at the inheritance diagram, you can see that <code>SwordItem</code> is a subclass of <code>Item</code>.</p>
<p><img src="item/sword.assets/image-20200928181500005.png" alt="image-20200928181500005" /></p>
<p>Implementation:</p>
<pre><code class="language-java">public class ObsidianSword extends SwordItem {
    public ObsidianSword() {
        super(ModItemTier.OBSIDIAN, 3, -2.4F, new Item.Properties().group(ItemGroup.COMBAT));
    }
}
</code></pre>
<p>Please also refer to the original implementation here for <code>3</code> and <code>-2.4F</code>, where all item registrations are in <code>net.minecraft.item.Items</code>.</p>
<p>Then register the item.</p>
<pre><code class="language-java">public static RegistryObject&lt;Item&gt; obsidianSword = ITEMS.register(&quot;obsidian_sword&quot;, ObsidianSword::new);
</code></pre>
<p>Adding model files.</p>
<pre><code class="language-json">{
  &quot;parent&quot;: &quot;item/generated&quot;,
  &quot;textures&quot;: {
    &quot;layer0&quot;: &quot;boson:item/obsidian_sword&quot;
  }
}
</code></pre>
<p>and textures:</p>
<img src="item/sword.assets/obsidian_sword.png" alt="obsidian_sword" style="zoom:300%;" />
<p>Once you're done creating it, open the game and see.</p>
<p><img src="item/sword.assets/image-20200427184918516.png" alt="image-20200427184918516" /></p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/melee_weapons">Source Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tools"><a class="header" href="#tools">Tools</a></h1>
<p>In this section, we'll learn how to add a new tool, and here's an example of a new pickaxe.</p>
<p>Let us first observe the inheritance tree.</p>
<p><img src="item/tool.assets/image-20200928183235878.png" alt="image-20200928183235878" /></p>
<p>You can see that the original version has provided classes corresponding to 4 tools, and there is a <code>ToolItem</code> on top of these tools. If you want to create a new type of tool, you can choose to inherit and implement this class. Please refer to the original version for the implementation method 4 categories.</p>
<p>Next we begin to create the obsidian pickaxe</p>
<pre><code class="language-java">public class ObsidianPickaxe extends PickaxeItem {
    public ObsidianPickaxe() {
        super(ModItemTier.OBSIDIAN, 2, -3f, (new Item.Properties()).group(ModGroup.itemGroup));
    }
}
</code></pre>
<p>As you can see, here we choose to directly inherit the <code>PickaxeItem</code> class, and then pass directly we create a good obsidian <code>ItemTier</code>, the rest of the parameters, please refer to the original implementation.</p>
<p>And then there's registration.</p>
<pre><code class="language-java">public static final RegistryObject&lt;Item&gt; obsidianPickaxe = ITEMS.register(&quot;obsidian_pickaxe&quot;, ObsidianPickaxe::new);
</code></pre>
<p>Adding textures and models is not something I'll go into here.</p>
<p>Open up the game and take a look, and you should be able to see the brand new Obsidian pickaxe.</p>
<p><img src="item/tool.assets/image-20200928183155484.png" alt="image-20200928183155484" /></p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/tool">Source Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="armor"><a class="header" href="#armor">Armor</a></h1>
<p>In this section, we'll come to learn how to add a set of Armor, and here we'll use Obsidian Armor as an example.</p>
<p>As with tools and weapons, equipment has its own class, <code>IArmorMaterial</code>, and here we'll follow the original version and implement this interface with an Enum.</p>
<pre><code class="language-java">public enum ModArmorMaterial implements IArmorMaterial {
    OBSIDIAN(&quot;obsidian&quot;, 40, new int[]{5, 8, 10, 5}, 20, SoundEvents.ITEM_ARMOR_EQUIP_DIAMOND, 2.0F, 0.0F, () -&gt; {
        return Ingredient.fromItems(ItemRegistry.obsidianIngot.get());
    });

    private static final int[] MAX_DAMAGE_ARRAY = new int[]{13, 15, 16, 11};
    private final String name;
    private final int maxDamageFactor;
    private final int[] damageReductionAmountArray;
    private final int enchantability;
    private final SoundEvent soundEvent;
    private final float toughness;
    private final float knockbackResistance;
    private final LazyValue&lt;Ingredient&gt; repairMaterial;

    ModArmorMaterial(String name, int maxDamageFactor, int[] damageReductionAmountArray, int enchantability, SoundEvent soundEvent, float toughness, float knockbackResistance, Supplier&lt;Ingredient&gt; repairMaterial) {
        this.name = name;
        this.maxDamageFactor = maxDamageFactor;
        this.damageReductionAmountArray = damageReductionAmountArray;
        this.enchantability = enchantability;
        this.soundEvent = soundEvent;
        this.toughness = toughness;
        this.knockbackResistance = knockbackResistance;
        this.repairMaterial = new LazyValue&lt;&gt;(repairMaterial);
    }

    public int getDurability(EquipmentSlotType slotIn) {
        return MAX_DAMAGE_ARRAY[slotIn.getIndex()] * this.maxDamageFactor;
    }

    public int getDamageReductionAmount(EquipmentSlotType slotIn) {
        return this.damageReductionAmountArray[slotIn.getIndex()];
    }

    public int getEnchantability() {
        return this.enchantability;
    }

    public SoundEvent getSoundEvent() {
        return this.soundEvent;
    }

    public Ingredient getRepairMaterial() {
        return this.repairMaterial.getValue();
    }

    @OnlyIn(Dist.CLIENT)
    public String getName() {
        return this.name;
    }

    public float getToughness() {
        return this.toughness;
    }

    public float getKnockbackResistance() {
        return this.knockbackResistance;
    }
}
</code></pre>
<p>Note the <code>name</code> here, which relates to the textures we'll be creating the player to wear on his body.</p>
<pre><code class="language-java">public static final RegistryObject&lt;Item&gt; obsidianHelmet = ITEMS.register(&quot;obsidian_helmet&quot;, () -&gt; new ArmorItem(ModArmorMaterial.OBSIDIAN, EquipmentSlotType.HEAD, (new Item.Properties()).group(ModGroup.itemGroup)));
public static final RegistryObject&lt;Item&gt; obsidianChestplate = ITEMS.register(&quot;obsidian_chestplate&quot;, () -&gt; new ArmorItem(ModArmorMaterial.OBSIDIAN, EquipmentSlotType.CHEST, (new Item.Properties()).group(ModGroup.itemGroup)));
public static final RegistryObject&lt;Item&gt; obsidianLeggings = ITEMS.register(&quot;obsidian_leggings&quot;, () -&gt; new ArmorItem(ModArmorMaterial.OBSIDIAN, EquipmentSlotType.LEGS, (new Item.Properties()).group(ModGroup.itemGroup)));
public static final RegistryObject&lt;Item&gt; obsidianBoots = ITEMS.register(&quot;obsidian_boots&quot;, () -&gt; new ArmorItem(ModArmorMaterial.OBSIDIAN, EquipmentSlotType.FEET, (new Item.Properties()).group(ModGroup.itemGroup)));
</code></pre>
<p>You can see that the first parameter of <code>ArmorItem</code> specifies the class corresponding to the armor, and the second parameter specifies the position where the armor is worn.</p>
<p>The next step is the addition of materials and textures for the items, which I won't explain here.</p>
<p>But armor has an extra wearable textures compared to other items, which needs to be added, because Minecraft hard codes all wearable armor textures under the <code>minecraft</code> domain, so we have to create the corresponding directory, which will look like this when it's finished.</p>
<pre><code>resources
├── META-INF
│   └── mods.toml
├── assets
│   ├── boson
│   └── minecraft
│       └── textures
│           └── models
│               └── armor
└── pack.mcmeta
</code></pre>
<p>As you can see, we've created <code>minecraft</code> and a corresponding folder for armor materials in the same folder as <code>boson</code>.</p>
<p>接下来我们得放入我们盔甲的材质。材质有两张，命名格式为：<code>盔甲材料_layer_1</code>和<code>盔甲材料_layer_2</code>。在我们这里就是<code>obsidian_layer_1</code>和<code>obsidian_layer_2</code>。</p>
<p>Next we have to put in our armor material. There are two materials, named in the format <code>armro-texture_layer_1</code> and <code>armro-texture_layer_2</code>. In our case it's <code>obsidian_layer_1</code> and <code>obsidian_layer_2</code>.</p>
<img src="item/./armor.assets/obsidian_layer_1.png" alt="obsidian_layer_1" style="zoom:300%;" />
<img src="item/./armor.assets/obsidian_layer_2.png" alt="obsidian_layer_1" style="zoom:300%;" />
<p>Note that the two textures contain a set of armor.</p>
<p>The directory after the textures is put in is as follows.</p>
<pre><code>resources
├── META-INF
│   └── mods.toml
├── assets
│   ├── boson
│   └── minecraft
│       └── textures
│           └── models
│               └── armor
│                   ├── obsidian_layer_1.png
│                   └── obsidian_layer_2.png
└── pack.mcmeta
</code></pre>
<p>Open the game and you should see a brand new suit of armor.</p>
<p><img src="item/armor.assets/image-20200928192041780.png" alt="image-20200928192041780" /></p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/armor">Source Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="item-property-override"><a class="header" href="#item-property-override">Item Property Override</a></h1>
<p>Item Property Override is a mechanism of the original Minecraft, used to achieve, for example, the bow and arrow display different bow models according to different draw times. We use the model file of the original <code>bow.json</code> to explain what is item attribute coverage. For more information, please refer to the original <a href="https://minecraft.gamepedia.com/Model#Item_models">Item models</a> ’s overrides.</p>
<p><code>bow.json</code></p>
<pre><code class="language-json">{ 
    ……Omit……
    &quot;overrides&quot;: [
        {
            &quot;predicate&quot;: {
                &quot;pulling&quot;: 1
            },
            &quot;model&quot;: &quot;item/bow_pulling_0&quot;
        },
        {
            &quot;predicate&quot;: {
                &quot;pulling&quot;: 1,
                &quot;pull&quot;: 0.65
            },
            &quot;model&quot;: &quot;item/bow_pulling_1&quot;
        },
        {
            &quot;predicate&quot;: {
                &quot;pulling&quot;: 1,
                &quot;pull&quot;: 0.9
            },
            &quot;model&quot;: &quot;item/bow_pulling_2&quot;
        }
    ]
}
</code></pre>
<p>You can see that a configuration element called <code>overrides</code> appeared in <code>bower.json</code>, and a pair of pairs appeared in this configuration element:</p>
<pre><code class="language-json">{
  &quot;predicate&quot;: {
    &quot;pulling&quot;: 1
  },
  &quot;model&quot;: &quot;item/bow_pulling_0&quot;
}
</code></pre>
<p>The content here is very easy to understand. The <code>predicate</code> is the &quot;condition&quot;. When the value of <code>predicate</code> (defined in the game will dynamically change) in the condition is greater than or equal to 1, load the corresponding model, which is <code>item/bow_pulling_0</code>.</p>
<p>And we are also about to implement a similar function, in this section we are going to implement a &quot;magic ingot&quot; that dynamically changes the model according to the number of stacked items.</p>
<p>The first is the items, which is very simple.</p>
<pre><code class="language-java">public class MagicIngot extends Item {
    public MagicIngot() {
        super(new Properties().group(ModGroup.itemGroup));
    }
}
</code></pre>
<p>Registered items:</p>
<pre><code class="language-java">public static final RegistryObject&lt;Item&gt; magicIngot = ITEMS.register(&quot;magic_ingot&quot;, MagicIngot::new);
</code></pre>
<p>The next step is to add &quot;Item Property Override&quot; to the item we created.</p>
<pre><code class="language-java">@Mod.EventBusSubscriber(bus = Mod.EventBusSubscriber.Bus.MOD, value = Dist.CLIENT)
public class PropertyRegistry {
    @SubscribeEvent
    public static void propertyOverrideRegistry(FMLClientSetupEvent event) {
        event.enqueueWork(() -&gt; {
            ItemModelsProperties.registerProperty(ItemRegistry.magicIngot.get(), new ResourceLocation(Utils.MOD_ID, &quot;size&quot;), (itemStack, clientWorld, livingEntity) -&gt; itemStack.getCount());
        });
    }
}
</code></pre>
<p>As you can see, in the <code>FMLClientSetupEvent</code> event, we called the <code>ItemModelsProperties.registerProperty</code> method to add an <code>overrides</code> to our item. The meaning of the three parameters here is that the first one is the one you want to add <code>overrides</code> Item, the second is the name of this <code>overrides</code>, which is the name you will write in the <code>predicate</code> of the model file later, and the third is the dynamically changing value. Here we directly call <code>itemStack.getCount( )</code>The function returns the number of stacked items.</p>
<p>Next look at our model file: <code>magic_ingot.json</code>:</p>
<pre><code class="language-java">{
  &quot;parent&quot;: &quot;item/generated&quot;,
  &quot;textures&quot;: {
    &quot;layer0&quot;: &quot;item/iron_ingot&quot;
  },
  &quot;overrides&quot;: [
    {
      &quot;predicate&quot;: {
        &quot;boson:size&quot;: 16
      },
      &quot;model&quot;: &quot;item/gold_ingot&quot;
    }
  ]
}
</code></pre>
<p>You can see here that we have set it to display the texture of the iron ingot by default, and then display the texture of the gold ingot when the number of items is greater than or equal to 16.</p>
<p>You can see this &quot;magic ingot&quot; when you open the game.</p>
<p><img src="item/item-property-override.assets/image-20201009195911814.png" alt="image-20201009195911814" /></p>
<p><img src="item/item-property-override.assets/image-20201009195924247.png" alt="image-20201009195924247" /></p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/item_property_overrides">Source Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="localization"><a class="header" href="#localization">Localization</a></h1>
<p>In this section, we will learn how to add names to our items.</p>
<p>In the previous chapters, the names of the items we created looked like a string of meaningless characters. In this section we will add a meaningful name to them.</p>
<p>In Minecraft, the name of the file is provided in the form of a language file. In the higher version, the language file is a json file. Its approximate content is as follows:</p>
<pre><code class="language-json">{
  &quot;language.name&quot;: &quot;English&quot;,
  &quot;language.region&quot;: &quot;United States&quot;,
  &quot;language.code&quot;: &quot;en_us&quot;,
  &quot;narrator.button.accessibility&quot;: &quot;Accessibility&quot;,
  &quot;narrator.button.language&quot;: &quot;Language&quot;
}
</code></pre>
<p>You can see that a language file is actually a &quot;key-value pair&quot;, where the &quot;key&quot; is an in-game number, and the &quot;value&quot; is the specific translation. The reason for this is that Minecraft has to support languages of many countries and regions. If each language is directly hardcoded into the game, it is obviously not maintainable. By default, if you do not add a corresponding translation to the object that needs to be translated in the game, then it will display the &quot;key&quot; of this translation by default.</p>
<p>Take our Obsidian Ingot for example:</p>
<p><img src="localization/localization.assets/image-20200427213837119.png" alt="image-20200427213837119" /> </p>
<p>We haven't added a name to it yet. The <code>item.neutrino.obsidian_ingot</code> it displays is the default key value. Of course, you can also customize the key value. There are corresponding methods in the Item class to achieve this. As I said before, in the Minecraft source code and the function name guessing function is a necessary ability for Mod development, so here It is equivalent to a small test, please find a way to modify this key by yourself.</p>
<p>But in some cases, the game cannot automatically add keys to my content by default. At this time, we have to create a key by ourselves. Minecraft provides a method called <code>I18n.format</code> for me to create it by myself. For the specific usage, we I will talk about it later.</p>
<p>Let me create the language file.</p>
<p>First, create a folder called <code>lang</code> under the <code>boson</code> folder. After the creation is successful, the directory tree is as follows:</p>
<pre><code>resources
├── META-INF
│   └── mods.toml
├── assets
│   └── boson
│       ├── lang
│       ├── models
│       │   └── item
│       │       ├── obsidian_apple.json
│       │       ├── obsidian_ingot.json
│       │       └── obsidian_sword.json
│       └── textures
│           └── item
│               ├── obsidian_apple.png
│               ├── obsidian_ingot.png
│               └── obsidian_sword.png
└── pack.mcmeta
</code></pre>
<p>Here we take English as an example.</p>
<p>First create a file called en_us with the following content.</p>
<pre><code class="language-json">{
  &quot;item.neutrino.obsidian_ingot&quot;: &quot;Obsidian Ingot&quot;,
  &quot;item.neutrino.obsidian_apple&quot;:&quot;Obsidian Apple&quot;,
  &quot;item.neutrino.obsidian_sword&quot;:&quot;Obsidian Sword&quot;,
  &quot;itemGroup.obsidian_group&quot;: &quot;Obsidian Tab&quot;
}
</code></pre>
<p>Then start the game, adjust to simplified Chinese, you should be able to see our items are translated.</p>
<p><img src="localization/localization.assets/image-20201018105847036.png" alt="image-20201018105847036" /></p>
<p>A list of all available language files can be found in the Wiki’s <a href="https://minecraft.gamepedia.com/Language#Available_languages">Language#Available languages</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="block"><a class="header" href="#block">Block</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="first-block"><a class="header" href="#first-block">First Block</a></h1>
<p>In this section, we will create the simplest block, a block with no functions, even models and textures. Before I start, I must make a conceptual distinction, about the conceptual distinction between objects and squares. Anything you can hold in your hand is an &quot;item&quot;, and it becomes a &quot;block&quot; only when it is placed in the world.</p>
<p><img src="block/first-block.assets/image-20200428155404000.png" alt="image-20200428155404000" /></p>
<p>This is an item</p>
<p><img src="block/first-block.assets/image-20200428155435757.png" alt="image-20200428155435757" /></p>
<p>This is a block.</p>
<p>Okay, we have made the difference between items and blocks clear. Next, let's create the first block, here we take the obsidian block as an example.</p>
<p>First create a class called <code>ObsidianBlock</code>, just like all custom items need to inherit the <code>Item</code> class, all custom methods need to inherit the <code>Block</code> class, please make sure your <code>Block</code> class is <code>net. Minecraft.block.Block</code> this class.</p>
<p>The specific content is as follows:</p>
<pre><code class="language-java">public class ObsidianBlock extends Block {
    public ObsidianBlock() {
        super(Properties.create(Material.ROCK).hardnessAndResistance(5));
    }
}
</code></pre>
<p>The content is very simple. Just like <code>Item</code> has <code>Properties</code>, the block also needs a <code>Properties</code>. Unlike the item's <code>Properties</code>, the block's <code>Propeteis</code> needs to be created by calling the <code>create</code> method. Please note that although the two <code>Properties</code> have the same name, they are not in the same package. These are actually two different classes. The <code>create</code> method requires a parameter, which is a <code>Material</code> , <code>Material </code>Help you preset some characteristics of the block, such as whether it is solid, whether it is fluid, etc. You can override the features brought by <code>Material</code> by calling the method of <code>Properties</code>, here we use the original version of <code>Material.ROCK</code>, if you want to create a <code>Material</code> by yourself is very simple, please refer to the original implementation. Finally we call the <code>hardnessAndResistance</code> method to set the hardness for my block.</p>
<p>So far our obsidian block class has been created. Just as items need to be registered, my cubes also need to be registered.</p>
<p>Create a new registration class <code>BlockRegistry</code> with the following content:</p>
<pre><code class="language-java">public class BlockRegistry {
    public static final DeferredRegister&lt;Block&gt; BLOCKS = DeferredRegister.create(ForgeRegistries.BLOCKS, Utils.MOD_ID);
    public static final RegistryObject&lt;Block&gt; obsidianBlock = BLOCKS.register(&quot;obsidian_block&quot;, ObsidianBlock::new);
}
</code></pre>
<p>I believe you who have written the registration class before should be relatively familiar with these contents. We replaced <code>DeferredRegister&lt;Item&gt;</code> with <code>DeferredRegister&lt;Block&gt;</code> (of course, the following instantiation parameters also need to be modified), so that we create a block register. The registration method is the same as the item registration, so I won't elaborate on it here.</p>
<p>You also need to register this register to the <code>mod</code> bus in your main class constructor.</p>
<pre><code class="language-java">@Mod(Utils.MOD_ID)
public class Neutrino {
    public Neutrino() {
        ItemRegistry.ITEMS.register(FMLJavaModLoadingContext.get().getModEventBus());
        BlockRegistry.BLOCKS.register(FMLJavaModLoadingContext.get().getModEventBus());
    }
}
</code></pre>
<p>At this point, we have completed our block, now start the game, enter the following commands, and you can place your own squares.</p>
<pre><code>/setblock ~ ~ ~ &lt;ModID&gt;:&lt;Block Registry Name&gt;
As our example 
/setblock ~ ~ ~ neutriono:obsidian_block
</code></pre>
<p><img src="block/first-block.assets/image-20200428162256286.png" alt="image-20200428162256286" /></p>
<p>However, the blocks that can only be placed by commands are obviously not in our appetite. We hope that there is an item that can correspond to the blocks, so that we don’t need to use commands to place the blocks. For this common demand, Minecraft also provides a convenience To meet the requirements, this class is <code>BlockItem</code>, we only need to create and instantiate this class.</p>
<p>Let's go back to our <code>ItemRegistry</code> and add the following line</p>
<pre><code class="language-java">public static final RegistryObject&lt;Item&gt; obsidianBlock = ITEMS.register(&quot;obsidian_block&quot;, () -&gt; new BlockItem(BlockRegistry.obsidianBlock.get(), new Item.Properties().group(ModGroup.itemGroup)));
</code></pre>
<p>You can see that we have created an instance of BlockItem. Its construction method requires two parameters. The first parameter is the instance of the block you registered. We can get the registered one through <code>BlockRegistry.obsidianBlock.get()</code> Block instance, the second parameter is the <code>Properties</code> of an Item. The <code>Properties</code> here is very simple. We will add it to the creative inventory we created earlier.</p>
<p>Open the game at this time, and you can see our cubes in our creative mode inventory.</p>
<p><img src="block/first-block.assets/image-20200428164024589.png" alt="image-20200428164024589" /></p>
<p><img src="block/first-block.assets/image-20200428164037088.png" alt="image-20200428164037088" /></p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/first_block">Source Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="block-and-blockstate"><a class="header" href="#block-and-blockstate">Block and BlockState</a></h1>
<p>Before starting our next explanation, I want to talk about the concept of <code>BlockState</code>. I believe you have already learned about <code>ItemStack</code>, and you should be able to understand this concept quickly.</p>
<p>Just as all the items in the game are actually <code>Itemstack</code>, all the blocks in the game are actually <code>BlockState</code>, and compared to <code>Block</code>, besides the extra XYZ position information, the most important thing is It is the <code>state</code> information, which is the state information. State information is difficult to understand at first glance, but it is actually very easy to understand. Let’s take the original fence as an example. When you put the original fence on the ground, the fence will automatically change its shape according to the surrounding squares. This is actually the fence automatically changed its state. We can check the state of the square in F3 debugging mode. .</p>
<p><img src="block/block-and-blocksstate.assets/A31FDCB0-F8AC-43BC-BD70-801476111C97.jpeg" alt="A31FDCB0-F8AC-43BC-BD70-801476111C97" /></p>
<p>This is the fence model in the default block state.</p>
<p><img src="block/block-and-blocksstate.assets/EDC215E2-DF26-4764-AE2D-2640C7184482.jpeg" alt="EDC215E2-DF26-4764-AE2D-2640C7184482" /></p>
<p>It can be seen that after we used the Debug Stick to modify the block state of the fence, the block model has also changed accordingly.</p>
<p>Of course, not all blocks have state attributes, such as stones do not, but position attributes are unique to every block.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="blocks-model-and-texture"><a class="header" href="#blocks-model-and-texture">Block's Model and Texture</a></h1>
<p>We have successfully created a Block, but this Block is still ugly, just a black and purple block. In this section, we are going to add models and textures to this block.</p>
<p>First, we create some folders, and the created directories are displayed as follows:</p>
<pre><code>resources
├── META-INF
│   └── mods.toml
├── assets
│   └── boson
│       ├── blockstates
│       ├── lang
│       ├── models
│       │   ├── block
│       │   └── item
│       └── textures
│           ├── block
│           └── item
└── pack.mcmeta
</code></pre>
<p>Then we create a json file with the same name as the registered name of your item under the <code>blockstates</code> folder, here we are going to create <code>obsidian_block.json</code></p>
<p>The content is as follows:</p>
<pre><code class="language-json">{
  &quot;variants&quot;: {
    &quot;&quot;: { &quot;model&quot;: &quot;boson:block/obsidian_block_model&quot; }
  }
}
</code></pre>
<p>This file is actually a mapping table of the blockstate and the specific model to be used. If you are still not sure what the blockstate is, please read it forward.</p>
<p>Here we have no blockstate, so we wrote <code>&quot;&quot;: {&quot;model&quot;: &quot;boson:block/obsidian_block_model&quot; }</code>, setting the default model to <code>obsidian_block_model.json</code>.</p>
<p>Next we create <code>obsidian_block_model.json</code> under <code>models/block</code> with the following content:</p>
<pre><code class="language-json">{
  &quot;parent&quot;: &quot;block/cube_all&quot;,
  &quot;textures&quot;: {
    &quot;all&quot;: &quot;boson:block/obsidian_block_texture&quot;
  }
}
</code></pre>
<p>As you can see, compared with the item model, the inherited stuff is different. As for the format of the specific model file, please refer to <a href="https://minecraft.gamepedia.com/Model#Block_models">Wiki</a>. In the model, we called <code>obsidian_block_texture.png</code> as our material.</p>
<p>Next, let's add our material under <code>textures/block</code>, also please note that the ratio of the material file is 1:1, and it is best not to be larger than 32x32 pixels.</p>
<img src="block/block-model-and-texture.assets/obsdian_block.png" alt="obsdian_block" style="zoom:300%;" />
<p>Start the game at this time, and you should be able to see that our blocks have corresponding textures and models.</p>
<p><img src="block/block-model-and-texture.assets/image-20200428181816541.png" alt="image-20200428181816541" /></p>
<p>**The whole loading process is: get the state of the block in the game, get the model in the mapping table corresponding to Blockstates, and load the material according to the model. **</p>
<p>But at this time you will find that the item corresponding to our block does not have a texture yet, and we will solve this problem next.</p>
<p>Create a json file with the same name as our BlockItem registered name under <code>models/item</code>, here is <code>obsidian_block.json</code></p>
<pre><code class="language-json">{
  &quot;parent&quot;: &quot;boson:block/obsidian_block_model&quot;
}
</code></pre>
<p>Yes, you read that right, just one sentence, we can directly inherit the corresponding block model.</p>
<p><img src="block/block-model-and-texture.assets/image-20200428182406212.png" alt="image-20200428182406212" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="block-with-blockstates"><a class="header" href="#block-with-blockstates">Block with Blockstates</a></h1>
<p>We have mentioned BlockState a bit before, but our first block is obviously stateless. In this section, we will use the obsidian cube as an example to create a block with state.</p>
<p>First create a class called <code>ObsidianRubikCube</code> with the following content:</p>
<pre><code class="language-java">public class ObsidianRubikCube extends Block {
    private static IntegerProperty STATE = IntegerProperty.create(&quot;face&quot;, 0, 1);

    public ObsidianRubikCube() {
        super(Properties.create(Material.ROCK).hardnessAndResistance(5));
        this.setDefaultState(this.stateContainer.getBaseState().with(STATE, 1));
    }

    @Override
    protected void fillStateContainer(StateContainer.Builder&lt;Block, BlockState&gt; builder) {
        builder.add(STATE);
        super.fillStateContainer(builder);
    }
}
</code></pre>
<p>There are three things that are different from the box I created before. The first is:</p>
<pre><code class="language-java">private static IntegerProperty STATE = IntegerProperty.create(&quot;face&quot;, 0, 1);
</code></pre>
<p>In this sentence, we created a new block state. As the name <code>IntegerProperty</code> implies, this is an integer type block state. In addition to the original version of <code>IntegerProperty</code>, it also implements <code>BooleanProperty</code> and <code>EnumProperty</code>, And the original version also implements many preset block states under the <code>BlockStateProperties</code> class, which can be used on demand. If these types do not meet your needs, you can also inherit <code>Property</code> to create a new type of block state yourself.</p>
<pre><code class="language-java">IntegerProperty.create(&quot;face&quot;, 0, 1)
</code></pre>
<p>Means, the name of this block state is <code>face</code>, the minimum value is <code>0</code>, and the maximum value is <code>1</code>.</p>
<pre><code class="language-java">@Override
protected void fillStateContainer(StateContainer.Builder&lt;Block, BlockState&gt; builder) {
  builder.add(STATE);
  super.fillStateContainer(builder);
}
</code></pre>
<p>hen we call the <code>add</code> method in the passed in <code>builder</code> variable in <code>fillStateContainer</code> to add a state to our block.</p>
<p>Finally, we set the default state in the constructor (you don’t have to set it).</p>
<pre><code class="language-java">this.setDefaultState(this.stateContainer.getBaseState().with(STATE, 1));
</code></pre>
<p>Register Block</p>
<pre><code class="language-java">public static final RegistryObject&lt;Block&gt; obsidianRubikCube = BLOCKS.register(&quot;obsidian_rubik_cube&quot;, ObsidianRubikCube::new);
</code></pre>
<p>Register items</p>
<pre><code class="language-java">public static final RegistryObject&lt;Item&gt; obsidianRubikCube = ITEMS.register(&quot;obsidian_rubik_cube&quot;, () -&gt; new BlockItem(BlockRegistry.obsidianRubikCube.get(), new Item.Properties().group(ModGroup.itemGroup)));
</code></pre>
<p>Next, create a json file with the same name as your block's registered name in the <code>blockstates</code> folder. We create <code>obsidian_rubik_cube.json</code> with the following content:</p>
<pre><code class="language-json">{
  &quot;variants&quot;: {
    &quot;face=0&quot;: { &quot;model&quot;: &quot;boson:block/obsidian_rubik_cube_model_0&quot; },
    &quot;face=1&quot;: { &quot;model&quot;: &quot;boson:block/obsidian_rubik_cube_model_1&quot; }
  }
}
</code></pre>
<p>As you can see, we have specified different models for different <code>face</code> values here, namely <code>obsidian_rubik_cube_model_0</code> and <code>obsidian_rubik_cube_model_1</code>. Please note that if you want to define multiple blockstate values, please separate them with commas without any spaces. For specific requirements, please refer to the chapter on <a href="https://minecraft.gamepedia.com/Model#Block_models">model</a> in the Wiki.</p>
<p>Then we create two model files <code>obsidian_rubik_cube_model_0.json</code> and <code>obsidian_rubik_cube_model_1.json</code> under <code>models/block</code>.</p>
<p><code>obsidian_rubik_cube_model_0.json</code>:</p>
<pre><code class="language-json">{
  &quot;parent&quot;: &quot;block/cube_all&quot;,
  &quot;textures&quot;: {
    &quot;all&quot;: &quot;boson:block/obsidian_rubik_cube_texture_0&quot;
  }
}
</code></pre>
<p><code>obsidian_rubik_cube_model_1.json</code>:</p>
<pre><code class="language-json">{
  &quot;parent&quot;: &quot;block/cube_all&quot;,
  &quot;textures&quot;: {
    &quot;all&quot;: &quot;boson:block/obsidian_rubik_cube_texture_1&quot;
  }
}
</code></pre>
<p>You can see that it loads two different textures.</p>
<p>Then add the textures.</p>
<p><code>obsidian_rubik_cube_texture_0.png</code></p>
<img src="block/block-with-blocksstate.assets/obsidian_rubik_cube_texture_0.png" alt="obsidian_rubik_cube_texture_0" style="zoom:300%;" />
<p><code>obsidian_rubik_cube_texture_1.png</code></p>
<img src="block/block-with-blocksstate.assets/obsidian_rubik_cube_texture_1.png" alt="obsidian_rubik_cube_texture_1" style="zoom:300%;" />
<p>Finally, add content to our item model <code>obsidian_rubik_cube</code>:</p>
<pre><code class="language-json">{
  &quot;parent&quot;: &quot;boson:block/obsidian_rubik_cube_model_1&quot;
}
</code></pre>
<p>可以看到，随着我们用debug stick改变了方块的状态，方块的模型和材质也发生了改变。</p>
<p><img src="block/block-with-blocksstate.assets/2020-09-28_19.51.12.png" alt="2020-09-28_19.51.12" /></p>
<p><img src="block/block-with-blocksstate.assets/2020-09-28_19.52.32.png" alt="2020-09-28_19.52.32" /></p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/blockstate">Source Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="not-solid-block-and-custom-model"><a class="header" href="#not-solid-block-and-custom-model">Not Solid Block and custom model</a></h1>
<p>In this section, we will create a transparent block with a special shape. Here we take the obsidian frame as an example.</p>
<p>First we create a class called <code>ObsidianFrame</code> with the following content:</p>
<pre><code class="language-java">public class ObsidianFrame extends Block implements IWaterLoggable {
    private static final VoxelShape shape;
    private static final BooleanProperty WATERLOGGED = BooleanProperty.create(&quot;waterlogged&quot;);

    static {
        VoxelShape base = Block.makeCuboidShape(0, 0, 0, 16, 1, 16);
        VoxelShape column1 = Block.makeCuboidShape(0, 1, 0, 1, 15, 1);
        VoxelShape column2 = Block.makeCuboidShape(15, 1, 0, 16, 15, 1);
        VoxelShape column3 = Block.makeCuboidShape(0, 1, 15, 1, 15, 16);
        VoxelShape column4 = Block.makeCuboidShape(15, 1, 15, 16, 15, 16);
        VoxelShape top = Block.makeCuboidShape(0, 15, 0, 16, 16, 16);
        shape = VoxelShapes.or(base, column1, column2, column3, column4, top);
    }

    public ObsidianFrame() {
        super(Properties.create(Material.ROCK).hardnessAndResistance(5).notSolid());
        this.setDefaultState(this.stateContainer.getBaseState().with(WATERLOGGED, false));
    }

    @Override
    protected void fillStateContainer(StateContainer.Builder&lt;Block, BlockState&gt; builder) {
        builder.add(WATERLOGGED);
        super.fillStateContainer(builder);
    }

    @Override
    public VoxelShape getShape(BlockState state, IBlockReader worldIn, BlockPos pos, ISelectionContext context) {
        return shape;
    }

    @Nullable
    @Override
    public BlockState getStateForPlacement(BlockItemUseContext context) {
        BlockPos blockpos = context.getPos();
        BlockState blockstate = context.getWorld().getBlockState(blockpos);
        if (blockstate.isIn(this)) {
            return blockstate.with(WATERLOGGED, Boolean.valueOf(false));
        } else {
            FluidState fluidstate = context.getWorld().getFluidState(blockpos);
            BlockState blockstate1 = this.getDefaultState().with(WATERLOGGED, Boolean.valueOf(fluidstate.getFluid() == Fluids.WATER));
            return blockstate1;
        }
    }

    public BlockState updatePostPlacement(BlockState stateIn, Direction facing, BlockState facingState, IWorld worldIn, BlockPos currentPos, BlockPos facingPos) {
        if (stateIn.get(WATERLOGGED)) {
            worldIn.getPendingFluidTicks().scheduleTick(currentPos, Fluids.WATER, Fluids.WATER.getTickRate(worldIn));
        }
        return super.updatePostPlacement(stateIn, facing, facingState, worldIn, currentPos, facingPos);
    }

    @Override
    public FluidState getFluidState(BlockState state) {
        return state.get(WATERLOGGED) ? Fluids.WATER.getStillFluidState(false) : super.getFluidState(state);
    }
}
</code></pre>
<p>At the top we created a <code>VoxelShape</code>, we will return this shape in the <code>getShape</code> method. This <code>VoxelShape</code> is the collision box of our block. Unfortunately, the collision box of Minecraft can only be composed of blocks. The size of this box is <code>16*16*16</code>, so we created a series of cuboids and cubes by ourselves in the static code block to form the collision box of our block. The 6 parameters of <code>Block.makeCuboidShape</code> are respectively Is the XYZ of the starting point and the XYZ of the ending point. Finally, we put these things together using the <code>or</code> method of <code>VoxelShapes</code>. There are many useful space operation methods under <code>VoxelShapes</code>, please choose by yourself. If you don't set a suitable collision box for your block, the space inside your block will appear very dark.</p>
<p>It can be seen that the most special thing here is that the <code>notSoild</code> method is called. This method is to inform Minecraft that our block is not a &quot;solid&quot; block and needs special treatment. The reason for this is that there are so many blocks in the world of Minecraft. If every face of the block has to be rendered, including those that are occluded and blocks that are blocked, it will cost a lot of performance, so for optimization Considering that, Minecraft will only render those surfaces that are not blocked. The role of <code>noSoild</code> is to tell Minecraft to render the faces that are blocked by this block.</p>
<p>If this is not turned on, this effect will appear.</p>
<p><img src="block/not-solid-block-and-custom-model.assets/image-20200428204119348.png" alt="image-20200428204119348" /></p>
<p>If you are interested in Minecraft block rendering-related content, you can read this blog <a href="https://greyminecraftcoder.blogspot.com/2020/04/block-rendering-1144.html">article</a> and other articles under this blog.</p>
<p>After 1.13, Minecraft added the “water logged&quot; feature. Many of the original incomplete blocks have this feature, and we can also add this feature to our blocks.</p>
<p>First, you need to make your block implement the interface <code>IWaterLoggable</code>:</p>
<pre><code class="language-java">public class ObsidianFrame extends Block implements IWaterLoggable
</code></pre>
<p>Next you have to add a Boolean BlockState called <code>waterlogged</code> to your block.</p>
<pre><code class="language-java">private static final BooleanProperty WATERLOGGED = BooleanProperty.create(&quot;waterlogged&quot;);

public ObsidianFrame() {
  super(Properties.create(Material.ROCK).hardnessAndResistance(5).notSolid());
  this.setDefaultState(this.stateContainer.getBaseState().with(WATERLOGGED, false));
}

@Override
protected void fillStateContainer(StateContainer.Builder&lt;Block, BlockState&gt; builder) {
  builder.add(WATERLOGGED);
  super.fillStateContainer(builder);
}
</code></pre>
<p>Next, implement the following block, the code is copied from the original half brick.</p>
<pre><code class="language-java">@Nullable
@Override
public BlockState getStateForPlacement(BlockItemUseContext context) {
  BlockPos blockpos = context.getPos();
  BlockState blockstate = context.getWorld().getBlockState(blockpos);
  if (blockstate.isIn(this)) {
    return blockstate.with(WATERLOGGED, Boolean.valueOf(false));
  } else {
    FluidState fluidstate = context.getWorld().getFluidState(blockpos);
    BlockState blockstate1 = this.getDefaultState().with(WATERLOGGED, Boolean.valueOf(fluidstate.getFluid() == Fluids.WATER));
    return blockstate1;
  }
}

public BlockState updatePostPlacement(BlockState stateIn, Direction facing, BlockState facingState, IWorld worldIn, BlockPos currentPos, BlockPos facingPos) {
  if (stateIn.get(WATERLOGGED)) {
    worldIn.getPendingFluidTicks().scheduleTick(currentPos, Fluids.WATER, Fluids.WATER.getTickRate(worldIn));
  }
  return super.updatePostPlacement(stateIn, facing, facingState, worldIn, currentPos, facingPos);
}

@Override
public FluidState getFluidState(BlockState state) {
  return state.get(WATERLOGGED) ? Fluids.WATER.getStillFluidState(false) : super.getFluidState(state);
}
</code></pre>
<p>But overall, the current design of the water logged block is more like a hack, so these implementations are a bit inexplicable...</p>
<p>Register Block:</p>
<pre><code class="language-java">public static final RegistryObject&lt;Block&gt; obsidianFrame = BLOCKS.register(&quot;obsidian_frame&quot;, ObsidianFrame::new);
</code></pre>
<p>Register Item:</p>
<pre><code class="language-java">public static RegistryObject&lt;Item&gt; obsidianFrame = ITEMS.register(&quot;obsidian_frame&quot;, () -&gt; new BlockItem(BlockRegistry.obsidianFrame.get(), new Item.Properties().group(ModGroup.itemGroup)));
</code></pre>
<p>Then there is the blockstate file <code>obsidian_frame.json</code>:</p>
<pre><code class="language-json">{
  &quot;variants&quot;: {
    &quot;&quot;: { &quot;model&quot;: &quot;bosons:block/obsidian_frame&quot; }
  }
}
</code></pre>
<p>Model file <code>obsidian_frame.json</code>:</p>
<pre><code class="language-json">{
	&quot;texture_size&quot;: [64, 64],
	&quot;textures&quot;: {
		&quot;0&quot;: &quot;boson:block/obsidian_frame&quot;,
		&quot;particle&quot;: &quot;boson:block/obsidian_frame&quot;
	},
	&quot;elements&quot;: [
		{
			&quot;from&quot;: [0, 0, 0],
			&quot;to&quot;: [16, 1, 16],
			&quot;faces&quot;: {
				&quot;north&quot;: {&quot;uv&quot;: [4, 8.25, 8, 8.5], &quot;texture&quot;: &quot;#0&quot;},
				&quot;east&quot;: {&quot;uv&quot;: [0, 8.25, 4, 8.5], &quot;texture&quot;: &quot;#0&quot;},
				&quot;south&quot;: {&quot;uv&quot;: [12, 8.25, 16, 8.5], &quot;texture&quot;: &quot;#0&quot;},
				&quot;west&quot;: {&quot;uv&quot;: [8, 8.25, 12, 8.5], &quot;texture&quot;: &quot;#0&quot;},
				&quot;up&quot;: {&quot;uv&quot;: [8, 8.25, 4, 4.25], &quot;texture&quot;: &quot;#0&quot;},
				&quot;down&quot;: {&quot;uv&quot;: [12, 4.25, 8, 8.25], &quot;texture&quot;: &quot;#0&quot;}
			}
		},
		{
			&quot;from&quot;: [0, 15, 0],
			&quot;to&quot;: [16, 16, 16],
			&quot;faces&quot;: {
				&quot;north&quot;: {&quot;uv&quot;: [4, 4, 8, 4.25], &quot;texture&quot;: &quot;#0&quot;},
				&quot;east&quot;: {&quot;uv&quot;: [0, 4, 4, 4.25], &quot;texture&quot;: &quot;#0&quot;},
				&quot;south&quot;: {&quot;uv&quot;: [12, 4, 16, 4.25], &quot;texture&quot;: &quot;#0&quot;},
				&quot;west&quot;: {&quot;uv&quot;: [8, 4, 12, 4.25], &quot;texture&quot;: &quot;#0&quot;},
				&quot;up&quot;: {&quot;uv&quot;: [8, 4, 4, 0], &quot;texture&quot;: &quot;#0&quot;},
				&quot;down&quot;: {&quot;uv&quot;: [12, 0, 8, 4], &quot;texture&quot;: &quot;#0&quot;}
			}
		},
		{
			&quot;from&quot;: [0, 1, 0],
			&quot;to&quot;: [1, 15, 1],
			&quot;faces&quot;: {
				&quot;north&quot;: {&quot;uv&quot;: [2.25, 0.25, 2.5, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;east&quot;: {&quot;uv&quot;: [2, 0.25, 2.25, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;south&quot;: {&quot;uv&quot;: [2.75, 0.25, 3, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;west&quot;: {&quot;uv&quot;: [2.5, 0.25, 2.75, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;up&quot;: {&quot;uv&quot;: [2.5, 0.25, 2.25, 0], &quot;texture&quot;: &quot;#0&quot;},
				&quot;down&quot;: {&quot;uv&quot;: [2.75, 0, 2.5, 0.25], &quot;texture&quot;: &quot;#0&quot;}
			}
		},
		{
			&quot;from&quot;: [15, 1, 0],
			&quot;to&quot;: [16, 15, 1],
			&quot;faces&quot;: {
				&quot;north&quot;: {&quot;uv&quot;: [1.25, 0.25, 1.5, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;east&quot;: {&quot;uv&quot;: [1, 0.25, 1.25, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;south&quot;: {&quot;uv&quot;: [1.75, 0.25, 2, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;west&quot;: {&quot;uv&quot;: [1.5, 0.25, 1.75, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;up&quot;: {&quot;uv&quot;: [1.5, 0.25, 1.25, 0], &quot;texture&quot;: &quot;#0&quot;},
				&quot;down&quot;: {&quot;uv&quot;: [1.75, 0, 1.5, 0.25], &quot;texture&quot;: &quot;#0&quot;}
			}
		},
		{
			&quot;from&quot;: [0, 1, 15],
			&quot;to&quot;: [1, 15, 16],
			&quot;faces&quot;: {
				&quot;north&quot;: {&quot;uv&quot;: [0.25, 0.25, 0.5, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;east&quot;: {&quot;uv&quot;: [0, 0.25, 0.25, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;south&quot;: {&quot;uv&quot;: [0.75, 0.25, 1, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;west&quot;: {&quot;uv&quot;: [0.5, 0.25, 0.75, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;up&quot;: {&quot;uv&quot;: [0.5, 0.25, 0.25, 0], &quot;texture&quot;: &quot;#0&quot;},
				&quot;down&quot;: {&quot;uv&quot;: [0.75, 0, 0.5, 0.25], &quot;texture&quot;: &quot;#0&quot;}
			}
		},
		{
			&quot;from&quot;: [15, 1, 15],
			&quot;to&quot;: [16, 15, 16],
			&quot;faces&quot;: {
				&quot;north&quot;: {&quot;uv&quot;: [3.25, 0.25, 3.5, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;east&quot;: {&quot;uv&quot;: [3, 0.25, 3.25, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;south&quot;: {&quot;uv&quot;: [3.75, 0.25, 4, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;west&quot;: {&quot;uv&quot;: [3.5, 0.25, 3.75, 3.75], &quot;texture&quot;: &quot;#0&quot;},
				&quot;up&quot;: {&quot;uv&quot;: [3.5, 0.25, 3.25, 0], &quot;texture&quot;: &quot;#0&quot;},
				&quot;down&quot;: {&quot;uv&quot;: [3.75, 0, 3.5, 0.25], &quot;texture&quot;: &quot;#0&quot;}
			}
		}
	]
}
</code></pre>
<p>The texture file <code>obsidian_frame.png</code>:</p>
<img src="block/not-solid-block-and-custom-model.assets/obsidian_frame.png" alt="obsidian_frame" style="zoom:300%;" />
<p>Here my models and materials are made with BlockBench.</p>
<p>Item model <code>obsidian_frame.json</code>:</p>
<pre><code class="language-json">{
  &quot;parent&quot;: &quot;boson:block/obsidian_frame&quot;
}
</code></pre>
<p>Open the game, you should be able to see our obsidian frame.</p>
<p><img src="block/not-solid-block-and-custom-model.assets/image-20200428214022814.png" alt="image-20200428214022814" /></p>
<p>And water logged block</p>
<p><img src="block/not-solid-block-and-custom-model.assets/image-20201017113953896.png" alt="image-20201017113953896" /></p>
<p><a href="https://github.com/FledgeXu/NeutrinoSourceCode/tree/master/src/main/java/com/tutorial/neutrino/nonesoildblock">Source Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="render-type"><a class="header" href="#render-type">Render Type</a></h1>
<p>In this section, we will talk about the RenderType.</p>
<p><img src="block/./rendertype.assets/blockrenderlayers.png" alt="img" /></p>
<blockquote>
<p>Picture from <a href="https://greyminecraftcoder.blogspot.com/2020/04/block-rendering-1144.html">TheGreyGhost Blog</a></p>
</blockquote>
<p>In Minecraft, there are four types of block rendering models, namely <code>translucent</code>, <code>solid</code>, <code>cutout</code> and <code>cutout_mipped</code>.</p>
<p>The general difference can be seen by everyone. Here we are going to detail the difference between <code>translucent</code> and <code>cutout*</code>. The difference between them is actually very simple, <code>translucent</code> is translucent, and <code>cutout*</code> is either fully transparent or opaque. You can pay attention to the difference between the white part on the glass and the white part on the ice cube.</p>
<p>The direct difference between <code>cutout</code> and <code>cutout_mipped</code> involves game optimization. <code>cutout_mipped</code> is <code>cutout</code> with Mipmapping enabled.</p>
<blockquote>
<p>In <a href="https://en.wikipedia.org/wiki/Computer_graphics">computer graphics</a>, <strong>mipmaps</strong> (also <strong>MIP maps</strong>) or <strong>pyramids</strong>[<a href="https://en.wikipedia.org/wiki/Mipmap#cite_note-1">1]</a>[<a href="https://en.wikipedia.org/wiki/Mipmap#cite_note-2">2]</a>[<a href="https://en.wikipedia.org/wiki/Mipmap#cite_note-3">3]</a> are pre-calculated, <a href="https://en.wikipedia.org/wiki/Optimization_(computer_science)">optimized</a> sequences of <a href="https://en.wikipedia.org/wiki/Digital_image">images</a>, each of which is a progressively lower <a href="https://en.wikipedia.org/wiki/Display_resolution">resolution</a> representation of the previous. The height and width of each image, or level, in the mipmap is a <a href="https://en.wikipedia.org/wiki/Power_of_two">power of two</a> smaller than the previous level. Mipmaps do not have to be square. They are intended to increase <a href="https://en.wikipedia.org/wiki/Rendering_(computer_graphics)">rendering</a> speed and reduce <a href="https://en.wikipedia.org/wiki/Aliasing">aliasing</a> artifacts. A high-resolution mipmap image is used for high-density samples, such as for objects close to the camera; lower-resolution images are used as the object appears farther away. This is a more efficient way of downfiltering (<a href="https://en.wikipedia.org/wiki/Magnification">minifying</a>) a <a href="https://en.wikipedia.org/wiki/Texture_mapping">texture</a> than sampling all <a href="https://en.wikipedia.org/wiki/Texel_(graphics)">texels</a> in the original texture that would contribute to a screen <a href="https://en.wikipedia.org/wiki/Pixel">pixel</a>; it is faster to take a constant number of samples from the appropriately downfiltered textures. Mipmaps are widely used in 3D <a href="https://en.wikipedia.org/wiki/Computer_game">computer games</a>, <a href="https://en.wikipedia.org/wiki/Flight_simulator">flight simulators</a>, other 3D imaging systems for <a href="https://en.wikipedia.org/wiki/Texture_filtering">texture filtering</a> and 2D as well as 3D <a href="https://en.wikipedia.org/wiki/Geographical_information_system">GIS software</a>. Their use is known as <strong>mipmapping</strong>. The letters <em>MIP</em> in the name are an acronym of the <a href="https://en.wikipedia.org/wiki/Latin">Latin</a> phrase <em>multum in parvo</em>, meaning &quot;much in little&quot;.[<a href="https://en.wikipedia.org/wiki/Mipmap#cite_note-staff-4">4]</a></p>
<p>Since mipmaps, by definition, are pre-<a href="https://en.wikipedia.org/wiki/Memory_management">allocated</a>, additional <a href="https://en.wikipedia.org/wiki/Computer_data_storage">storage space</a> is required to take advantage of them. They are also related to <a href="https://en.wikipedia.org/wiki/Wavelet_compression">wavelet compression</a>. Mipmap textures are used in 3D scenes to decrease the time required to render a scene. They also improve <a href="https://en.wikipedia.org/wiki/Image_quality">image quality</a> by reducing aliasing and <a href="https://en.wikipedia.org/wiki/Moir%C3%A9_pattern">Moiré patterns</a> that occur at large viewing distances,[<a href="https://en.wikipedia.org/wiki/Mipmap#cite_note-5">5]</a> at the cost of <a href="https://en.wikipedia.org/wiki/1/4_%2B_1/16_%2B_1/64_%2B_1/256_%2B_%E2%8B%AF">33%</a> more memory per texture.</p>
<p>——<a href="https://en.wikipedia.org/wiki/Mipmap">Wikipedia</a></p>
</blockquote>
<p>We will take a glass jar as an example to teach you how to set the RenderType of the block.</p>
<p>First, let's create the Block, <code>GlassJar.java</code>:</p>
<pre><code class="language-java">public class GlassJar extends Block {
    public GlassJar() {
        super(Properties.create(Material.ROCK).hardnessAndResistance(5).notSolid());
    }
}
</code></pre>
<p>Of course don't forget to register.</p>
<pre><code class="language-java">public static final RegistryObject&lt;GlassJar&gt; glassJar = BLOCKS.register(&quot;glass_jar&quot;, GlassJar::new);
</code></pre>
<p>接下来就是设置我们方块的RenderType的地方，<code>RenderTypeRegistry</code>：</p>
<pre><code class="language-java">@Mod.EventBusSubscriber(bus = Mod.EventBusSubscriber.Bus.MOD)
public class RenderTypeRegistry {
    @SubscribeEvent
    public static void onRenderTypeSetup(FMLClientSetupEvent event) {
        event.enqueueWork(() -&gt; {
            RenderTypeLookup.setRenderLayer(BlockRegistry.glassJar.get(), RenderType.getTranslucent());
        });
    }
}
</code></pre>
<p>Because rendering-related content happens on the client side, we register our RenderType under the <code>FMLClientSetupEvent</code> event, and because the Mod is now loaded in parallel, we have to put our event processing in <code>event.enqueueWork</code> in.</p>
<p>Here we call <code>RenderTypeLookup.setRenderLayer</code> to set the RenderType of our block, <code>RenderType.getTranslucent()</code> specifies that our RenderType is <code>translucent</code>, under the <code>RenderType</code> class there are all the original RenderTypes, you can also customize RenderType thus uses advanced features such as custom shaders.</p>
<p>Please see Github for specific models and materials.</p>
<p>Open the game and you can see our glass jar.</p>
<p><img src="block/rendertype.assets/image-20200625163139129.png" alt="image-20200625163139129" /></p>
<p><a href="https://github.com/FledgeXu/NeutrinoSourceCode/tree/master/src/main/java/com/tutorial/neutrino/special_render_type">Source Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="special-model"><a class="header" href="#special-model">Special Model</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="obj-model"><a class="header" href="#obj-model">OBJ Model</a></h1>
<p>In this section we will learn how to add an OBJ item model to the block</p>
<p>First create our block <code>ObsidianOBJ.java</code>:</p>
<pre><code class="language-java">public class ObsidianOBJ extends Block {
    public ObsidianOBJ() {
        super(Properties.create(Material.ROCK).hardnessAndResistance(5).notSolid());
    }
}
</code></pre>
<p>It is consistent with the method created before, because the model we created is not solid, so the <code>notSolid</code> method is added.</p>
<p>Registry Block:</p>
<pre><code class="language-java">public static final RegistryObject&lt;Block&gt; obsidanObj = BLOCKS.register(&quot;obsidian_obj&quot;, ObsidianOBJ::new);
</code></pre>
<p>Registry Item：</p>
<pre><code class="language-java">public static final RegistryObject&lt;Item&gt; obsidianObj = ITEMS.register(&quot;obsidian_obj&quot;, () -&gt; new BlockItem(BlockRegistry.obsidanObj.get(), new Item.Properties().group(ModGroup.itemGroup)));
</code></pre>
<p>BlockState file <code>obsidian_obj.json</code></p>
<pre><code class="language-json">{
  &quot;variants&quot;: {
    &quot;&quot;: { &quot;model&quot;: &quot;boson:block/obsidian_obj&quot; }
  }
}
</code></pre>
<p>Model's json file <code>obsidian_obj.json</code></p>
<pre><code class="language-json">{
  &quot;loader&quot;: &quot;forge:obj&quot;,
  &quot;model&quot;: &quot;boson:models/block/obsidian_obj.obj&quot;,
  &quot;flip-v&quot;: true
}
</code></pre>
<p>As you can see, it is a bit special from here. First, we use <code>loader</code> to specify that the model we want to load is in <code>obj</code> format, then specify our OBJ model in <code>model</code>, and finally <code>flip -v</code> is set to <code>true</code>. The reason for this is that the textures in minecraft and your material in blender and other tools are upside down, so you have to manually flip your textures.</p>
<p>Next is the OBJ model <code>obsidian_obj.obj</code>, here only the places that need to be modified are marked:</p>
<pre><code>mtllib obsidian_obj.mtl
</code></pre>
<p>You must specify the name of the mtl file you want to use here.</p>
<p>Next is the mtl file <code>obsidian_obj.mtl</code>. Similarly, I only mark the places that need to be modified here.</p>
<pre><code>map_Kd boson:block/obsidian_obj
</code></pre>
<p>You must specify the material of your model file in this way.</p>
<p>Finally, our material <code>obsidian_obj.png</code>:</p>
<img src="specialmodel/obj-model.assets/obsidian_obj.png" style="zoom:300%;" />
<p><img src="specialmodel/obj-model.assets/image-20200429095433074.png" alt="image-20200429095433074" /></p>
<p>You can see that our OBJ model has been successfully loaded. Of course, we haven't set up the correct collision box here, and this is left to the reader to implement.</p>
<p>Items can also use the OBJ model, please explore by yourself.</p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/obj">Source Code</a></p>
<hr />
<h2 id="common-problem-and-solutions"><a class="header" href="#common-problem-and-solutions">Common Problem and Solutions</a></h2>
<h3 id="ambient-light"><a class="header" href="#ambient-light">Ambient light</a></h3>
<p>By default, you may find that your model has unnatural black shadows like the picture below. This is caused by ambient light occlusion. You can modify the block by overwriting the <code>getAmbientOcclusionLightValue</code> method under the <code>Block</code> class Ambient light occlusion, the default is <code>0.2</code>, and the maximum value is <code>1</code>. The larger the value, the smaller the ambient light occlusion.</p>
<p><img src="specialmodel/obj-model.assets/image-20200724230101066.png" alt="image-20200724230101066" /></p>
<h2 id="unnatural-highlights-at-night"><a class="header" href="#unnatural-highlights-at-night">Unnatural highlights at night</a></h2>
<p>Sometimes you will find that your model will emit unnatural highlights like this at night. This is caused by the extra attributes in the <code>mtl</code> file. For Mod development, it is recommended to keep only the <code>map_Kd</code> attribute. For details, please see IE <a href="https://github.com/BluSunrize/ImmersiveEngineering/blob/1.14/src/main/resources/assets/immersiveengineering/models/block/balloon.mtl">mtl file</a>.</p>
<p><img src="specialmodel/obj-model.assets/image-20200724230406389.png" alt="image-20200724230406389" /></p>
<hr />
<h2 id="modding-crash-course"><a class="header" href="#modding-crash-course">Modding Crash Course</a></h2>
<p>If you are using Blender to make an OBJ model, please set the center point of your model to <code>X:0.5m,Y-0.5m,Z:0.5</code>, so you don't need to perform additional offset calculations in the json file . A full cube in Minecraft is exactly <code>1m*1m*1m</code> in Blender.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tileentity"><a class="header" href="#tileentity">TileEntity</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="first-tileentity-and-data-storage"><a class="header" href="#first-tileentity-and-data-storage">First TileEntity and Data Storage</a></h1>
<p>In this section, we will learn how to create a block entity of our own. Let’s take a counter as an example. Its only function is to increase by one when you right-click the block, and then send the corresponding one to your chat box value.</p>
<p>First, let's create our Block <code>ObsidianCounter.java</code>:</p>
<pre><code class="language-java">public class ObsidianCounter extends Block {
    public ObsidianCounter() {
        super(Properties.create(Material.ROCK).hardnessAndResistance(5));
    }

    @Override
    public boolean hasTileEntity(BlockState state) {
        return true;
    }

    @Nullable
    @Override
    public TileEntity createTileEntity(BlockState state, IBlockReader world) {
        return new ObsidianCounterTileEntity();
    }

    @Override
    public ActionResultType onBlockActivated(BlockState state, World worldIn, BlockPos pos, PlayerEntity player, Hand handIn, BlockRayTraceResult hit) {
        if (!worldIn.isRemote &amp;&amp; handIn == Hand.MAIN_HAND) {
            ObsidianCounterTileEntity obsidianCounterTileEntity = (ObsidianCounterTileEntity) worldIn.getTileEntity(pos);
            int counter = obsidianCounterTileEntity.increase();
            TranslationTextComponent translationTextComponent = new TranslationTextComponent(&quot;message.neutrino.counter&quot;, counter);
            player.sendStatusMessage(translationTextComponent, false);
        }
        return ActionResultType.SUCCESS;
    }
}
</code></pre>
<p>We won't go into details about the registration part, here we will talk about a few functions. The first thing to talk about is the set of functions <code>hasTileEntity</code> and <code>createTileEntity</code> (**Please note that the two methods here are not <code>@Deprecated</code>, that is, they are not &quot;crossed&quot; after you rewrite What we need to rewrite is the method under the ʻIForgeBlock<code>interface, please be careful not to rewrite the wrong method**), this set of functions allows your block to be bound to a block entity, and the return value of</code>hasTileEntity<code>is set to</code>true <code>, it means that our block has a block entity. The function </code>createTileEntity<code>determines which block entity our block is. In our case, it is</code>ObsidianCounterTileEntity`.</p>
<p>Let's skip the <code>onBlockActivated</code> method first to see what is in our block entity.</p>
<p><code>ObsidianCounterTileEntity</code>:</p>
<pre><code class="language-java">public class ObsidianCounterTileEntity extends TileEntity {
    private int counter = 0;

    public ObsidianCounterTileEntity() {
        super(TileEntityTypeRegistry.obsidianCounterTileEntity.get());
    }

    public int increase() {
        counter++;
        markDirty();
        return counter;
    }
}
</code></pre>
<p>As you can see, the content in this block entity is very simple, with only one construction method and one <code>increase</code> method. The <code>increase</code> method is related to the specific content we want to achieve. Here, let's first look at the construction method.</p>
<pre><code class="language-java">super(TileEntityTypeRegistry.obsidianCounterTileEntity.get());
</code></pre>
<p>In the construction method here, we passed a <code>TilEnttityType</code> to our parent class, so what is this <code>TilEntityType</code>? This <code>TileEntityType</code> hence the name implies the &quot;type&quot; of the block entity. This &quot;type&quot; specifies how our block entity should be created and which blocks it is bound to. Next we will take a look at our <code>TilEntityType </code>How was it created and registered?</p>
<p>Then we created a new class called <code>TileEntityTypeRegistry</code>:</p>
<pre><code class="language-java">public class TileEntityTypeRegistry {
    public static final DeferredRegister&lt;TileEntityType&lt;?&gt;&gt; TILE_ENTITIES = DeferredRegister.create(ForgeRegistries.TILE_ENTITIES, Utils.MOD_ID);
    public static final RegistryObject&lt;TileEntityType&lt;ObsidianCounterTileEntity&gt;&gt; obsidianCounterTileEntity = TILE_ENTITIES.register(&quot;obsidian_counter_tileentity&quot;, () -&gt; TileEntityType.Builder.create(ObsidianCounterTileEntity::new, BlockRegistry.obsidianCounterBlock.get()).build(null));
}
</code></pre>
<p>The first is the type, because <code>TileEntityType</code> is a generic class, and its generics can contain various <code>TileEntity</code>, so when we define <code>TILE_ENTITIES</code>, the type in <code>DeferredRegister</code> is <code>TileEntityType&lt;?&gt;</code>, the question mark here means that various <code>TileEntityType</code> such as <code>TileEntityType&lt;AEntity&gt;</code> and <code>TileEntityType&lt;BEntity&gt;</code> can be registered in <code>TILE_ENTITIES</code>.</p>
<p>Then the type of our variable, because we are going to register <code>TileEntityType</code> for <code>ObsidianCounterTileEntity</code>, so the type we need is naturally <code>TileEntityType&lt;ObsidianCounterTileEntity&gt;</code>.</p>
<p>The most complicated thing here should be the specific registration process, but it is not difficult to understand. The same as before, it is the registered name and a registered object. We can split this complicated sentence apart.</p>
<pre><code class="language-java">TILE_ENTITY_TYPE_DEFERRED_REGISTER.register(&quot;obsidian_counter_tileentity&quot;,()-&gt; ...);
</code></pre>
<p>If we omit a series of complicated content inside, the core of this code is such a sentence, I believe everyone can understand this, the key point here is the &quot;...&quot; we omitted.</p>
<p>The previously omitted content is as follows:</p>
<pre><code class="language-java">TileEntityType.Builder.create(ObsidianCounterTileEntity::new, BlockRegistry.obsidianCounterBlock.get()).build(null));
</code></pre>
<p>As you can see, here we first call the <code>TileEntityType.Builder.create</code> method, which is a method provided by Minecraft to create a <code>TileEntityType</code>, and then call the <code>build</code> method. Let's first look at the parameters in the <code>build</code> method. In <code>build</code> we passed in a <code>null</code>. In fact, this place can be filled with an instance called <code>datafix</code>, which is used to archive different versions before Converted. Here we do not have this requirement (most mods are not expected to be realized), so we fill in a <code>null</code>.</p>
<p>Then we look back at the two parameters in <code>TileEntityType.Builder.create</code>, the first parameter is a <code>supplier</code>, here we fill in the method reference of the construction method of the block entity, and the second type is and For the associated block, here we fill in the instance of our registered <code>ObsidianCounterBlock</code>. As for the registration of the block, I believe that the readers here have the ability to solve it by themselves.</p>
<p>This way the content is a lot less at once, but for the convenience of readers' understanding, I still use the above writing method. Of course, don't forget to register <code>TILE_ENTITIES</code> in the Mod bus in your Mod main class.</p>
<p>Then we can take a look at our logic</p>
<pre><code class="language-java">@Override
public ActionResultType onBlockActivated(BlockState state, World worldIn, BlockPos pos, PlayerEntity player, Hand handIn, BlockRayTraceResult hit) {
  if (!worldIn.isRemote &amp;&amp; handIn == Hand.MAIN_HAND) {
    ObsidianCounterTileEntity obsidianCounterTileEntity = (ObsidianCounterTileEntity) worldIn.getTileEntity(pos);
    int counter = obsidianCounterTileEntity.increase();
    TranslationTextComponent translationTextComponent = new TranslationTextComponent(&quot;message.neutrino.counter&quot;, counter);
    player.sendStatusMessage(translationTextComponent, false);
  }
  return ActionResultType.SUCCESS;
}
</code></pre>
<p>The first is the block's <code>onBlockActivated</code> method. Please note that there are two <code>onBlockActivated</code> methods with the same name but different return values. Don't rewrite the method wrong.</p>
<pre><code class="language-java">if (!worldIn.isRemote &amp;&amp; handIn == Hand.MAIN_HAND)
</code></pre>
<p>First of all, we judged whether our method is called on the server side. Remember that any logic that involves data processing should be executed on the server side. In addition, we also judged whether the incoming <code>handIn</code> is the &quot;master hand&quot;. This judgment is made because this method will be executed once for both hands.</p>
<pre><code class="language-java">ObsidianCounterTileEntity obsidianCounterTileEntity = (ObsidianCounterTileEntity) worldIn.getTileEntity(pos);
</code></pre>
<p>Here we call the <code>worldIn.getTileEntity</code> method to get the <code>TileEntity</code> corresponding to our block. The reason must be called by this method is that even if a block is bound to a TileEntity, you cannot guarantee that this <code>TileEntity</code> It must exist.</p>
<pre><code class="language-java">int counter = obsidianCounterTileEntity.increase();
</code></pre>
<p>Then we here increase and get the value by calling the <code>increase</code> method of our <code>obsidianCounterTileEntity</code>.</p>
<pre><code class="language-java">public int increase() {
  counter++;
  return counter;
}
</code></pre>
<p>The content of the <code>increase</code> method is very simple, I believe everyone can understand it.</p>
<pre><code class="language-java">TranslationTextComponent translationTextComponent = new TranslationTextComponent(&quot;message.neutrino.counter&quot;, counter);
</code></pre>
<p>Then there is this sentence, first we create a <code>TranslationTextComponent</code>, here is the content we want to send to the player's chat box. As its name implies, this is a translated text, so it should be a &quot;key&quot; rather than a specific content, <code>&quot;message.tour14.counter&quot;</code> is the &quot;key&quot; value, we also passed in later The count value obtained, the reason for this, we first press the table.</p>
<p>First, we add the following content to the language file (take English as an example).</p>
<pre><code class="language-json"> &quot;message.neutrino.counter&quot;: &quot;count: %d&quot;
</code></pre>
<p>You can see that there is a <code>%d</code> here. At this time, the reason why we need to pass in our value is very clear. In fact, the value of our <code>counter</code> variable is formatted through <code>%d</code> .</p>
<pre><code class="language-java">player.sendStatusMessage(translationTextComponent, false);
</code></pre>
<p>Finally, we call this statement and send a message to the player. Please note that because we have judged <code>!worldIn.isRemote</code> before, although this code is executed on the server side, because the specific message is displayed on the client side , So we need to send a message to the client by sending a package. Fortunately, Minecraft provides us with this method to send data, so we don’t need to implement it ourselves.</p>
<p><img src="tileentity/first-tileentity-and-data-storage.assets/image-20200429165945640.png" alt="image-20200429165945640" /></p>
<p>You can see that our block can be successfully counted.</p>
<p>But there is a bug in this block. When you exit the current save and re-enter, you will find that our counter starts counting from 0 again. Next, let's fix this problem.</p>
<p>The reason for this bug is that when the save is running, the value of the counter exists in the memory and can function normally, but when the game is closed, because the important data in the memory is not saved to your hard disk, so open it next time During the game, these data cannot be reloaded and restored. Before our TileEntity did not implement this save and restore function, we will add this function to it next.</p>
<p>The content of the <code>ObsidianCounterTileEntity</code> after the addition is as follows:</p>
<pre><code class="language-java">public class ObsidianCounterTileEntity extends TileEntity {
    private int counter = 0;

    public ObsidianCounterTileEntity() {
        super(TileEntityTypeRegistry.obsidianCounterTileEntity.get());
    }

    public int increase() {
        counter++;
        markDirty();
        return counter;
    }

    @Override
    public void read(BlockState state, CompoundNBT nbt) {
        counter = nbt.getInt(&quot;counter&quot;);
        super.read(state, nbt);
    }

    @Override
    public CompoundNBT write(CompoundNBT compound) {
        compound.putInt(&quot;counter&quot;, counter);
        return super.write(compound);
    }
}
</code></pre>
<p>As you can see, compared to the previous code, we have overwritten the <code>write</code> and <code>read</code> methods. These two methods are used to save and restore data. In Minecraft, all data should ultimately be saved in NBT format (unless you implement the save method yourself), and the NBT tag in the code is represented by <code>CompoundNBT</code>. NBT tags are also a &quot;key-value pair&quot; structure, and each value has a corresponding name. The method at the beginning of <code>put</code> is to write a value to the NBT tag, and the method at the beginning of <code>get</code> is to get the value. In addition to <code>CompoudNBT</code>, there is also the <code>ListNBT</code> class to represent the NBT tag of the array type.</p>
<p>The <code>write</code> here is the method of data saving. Its incoming value is the NBT tag that has been saved by other classes before, and its return value is the NBT tag that will eventually be saved to the hard disk (there are other classes to write Enter), under normal circumstances, you should call <code>return super.write(compound);</code> to do the final return.</p>
<p>The <code>read</code> method is just the opposite, here we call the <code>counter = compound.getInt(&quot;counter&quot;);</code> method to restore the data of our counter. Similarly, you should call <code>super.read(compound);</code> to do the final return.</p>
<p>Another very important thing is</p>
<pre><code class="language-java">public int increase() {
  counter++;
  markDirty();
  return counter;
}
</code></pre>
<p>We have added the <code>markDirty()</code> method here. This method means to mark our data as modified so that the game knows to save and call the save method when it is closed. This is because compared to the execution speed of the CPU, the saving and reading and writing speed of the hard disk is very slow, so if frequent saving and reading and writing operations will seriously slow down the speed of the game, a reasonable way is to mark that we need to save The data is then saved together at a unified point in time, the role of <code>markDirty()</code> is exactly this.</p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/first_tileentity">Source Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itickabletileentity"><a class="header" href="#itickabletileentity">ITickableTileEntity</a></h1>
<p>In this section, we will learn about one of the most important interfaces in TileEntity: <code>ITickableTileEntity</code>.</p>
<p>In this section, we will take the creation of a box that automatically greets us as an example to reflect the function of this interface.</p>
<p><code>ObsidianHelloBlock</code>:</p>
<pre><code class="language-java">public class ObsidianHelloBlock extends Block {
    public ObsidianHelloBlock() {
        super(Properties.create(Material.ROCK).hardnessAndResistance(5));
    }

    @Override
    public boolean hasTileEntity(BlockState state) {
        return true;
    }

    @Nullable
    @Override
    public TileEntity createTileEntity(BlockState state, IBlockReader world) {
        return new ObsidianHelloTileEntity();
    }
}
</code></pre>
<p><code>ObsidianHelloTileEntity</code>:</p>
<pre><code class="language-java">public class ObsidianHelloTileEntity extends TileEntity implements ITickableTileEntity {
    private static final int MAX_TIME = 5 * 20;
    private int timer = 0;

    public ObsidianHelloTileEntity() {
        super(TileEntityTypeRegistry.obsidianHelloTileEntity.get());
    }

    @Override
    public void tick() {
        if (world != null &amp;&amp; !world.isRemote) {
            if (timer == MAX_TIME) {
                PlayerEntity player = world.getClosestPlayer(pos.getX(), pos.getY(), pos.getZ(), 10, false);
                TranslationTextComponent translationTextComponent = new TranslationTextComponent(&quot;message.hello_block.hello&quot;);
                if (player != null) {
                    player.sendStatusMessage(translationTextComponent, false);
                }
                timer = 0;
            }
            timer++;
        }
    }
}

</code></pre>
<p>In fact, the code of this block entity is much simpler than the code of the first block entity we made. You can see that we have implemented the <code>ITickableTileEntity</code> interface here. This interface has only one method that needs to be implemented, which is the <code>tick</code> method, so the name implies. This will be executed once in each game tick. We have made a counter here, and then The nearest player within 10 block around the block position is obtained through the <code>world.getClosestPlayer</code> method, and then a <code>TranslationTextComponent</code> message is created, and finally <code>player.sendStatusMessage</code> is called to send the message to the player, and the <code>sendStatusMessage</code> accepts <code>ITextComponent</code> interface.</p>
<p>Don't forget the translation of language files:</p>
<pre><code class="language-json">&quot;message.hello_block.hello&quot;: &quot;Hello&quot;
</code></pre>
<p>Register <code>TileEntityType</code>:</p>
<pre><code class="language-java">public static RegistryObject&lt;TileEntityType&lt;ObsidianHelloTileEntity&gt;&gt; obsidianHelloTileEntity = TILE_ENTITIES.register(&quot;obsidian_hello_tileentity&quot;, () -&gt; TileEntityType.Builder.create(ObsidianHelloTileEntity::new, BlockRegistry.obsidianHelloBlock.get()).build(null));

</code></pre>
<p>The other registration and creation of model files are omitted here, and I believe that readers have the ability to complete them independently.</p>
<p>Open the game and get close to the block</p>
<p>You can see that our block is greeting us.</p>
<p><img src="tileentity/itickabletileentity.assets/image-20200928202044020.png" alt="image-20200928202044020" /></p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/tickabletileentity">源代码</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-synchronization-built-into-the-block-entity"><a class="header" href="#data-synchronization-built-into-the-block-entity">Data synchronization built into the block entity</a></h1>
<p>In this section, we will learn about the data synchronization function built into the block entity.</p>
<p>Remember the data synchronization between the server and the client we talked about before? Fortunately, TileEntity has built-in two sets of data synchronization methods for us. Unfortunately, these two sets of methods can only synchronize data from the server to the client, and can only synchronize a small amount of data.</p>
<p>In this section, we will learn how to make a box that plays the roar of the zombie every few seconds. Let's start with the box;</p>
<p><code>ObsidianZombieBlock</code></p>
<pre><code class="language-java">public class ObsidianZombieBlock extends Block {
    public ObsidianZombieBlock() {
        super(Properties.create(Material.ROCK).hardnessAndResistance(5));
    }

    @Override
    public boolean hasTileEntity(BlockState state) {
        return true;
    }

    @Nullable
    @Override
    public TileEntity createTileEntity(BlockState state, IBlockReader world) {
        return new ObsidianZombieTileEntity();
    }
}
</code></pre>
<p>Then there is <code>ObsidianZombieTileEntity</code>.</p>
<pre><code class="language-java">public class ObsidianZombieTileEntity extends TileEntity implements ITickableTileEntity {
    private boolean flag = false;
    private int MAX_TIME = 5 * 20;
    private int timer = 0;


    public ObsidianZombieTileEntity() {
        super(TileEntityTypeRegistry.obsidianZombieTileEntity.get());
    }

    @Override
    public void tick() {
        if (world.isRemote &amp;&amp; flag) {
            PlayerEntity player = world.getClosestPlayer(pos.getX(), pos.getY(), pos.getZ(), 10, false);
            this.world.playSound(player, pos, SoundEvents.ENTITY_ZOMBIE_AMBIENT, SoundCategory.AMBIENT, 1.0f, 1.0f);
            flag = false;
        }
        if (!world.isRemote) {
            if (timer == MAX_TIME) {
                flag = true;
                world.notifyBlockUpdate(pos, getBlockState(), getBlockState(), Constants.BlockFlags.BLOCK_UPDATE);
                flag = true;
                timer = 0;
            }
            timer++;
        }
    }

    @Nullable
    @Override
    public SUpdateTileEntityPacket getUpdatePacket() {
        return new SUpdateTileEntityPacket(pos, 1, getUpdateTag());
    }

    @Override
    public void onDataPacket(NetworkManager net, SUpdateTileEntityPacket pkt) {
        handleUpdateTag(world.getBlockState(pkt.getPos()), pkt.getNbtCompound());
    }

    @Override
    public CompoundNBT getUpdateTag() {
        CompoundNBT compoundNBT = super.getUpdateTag();
        compoundNBT.putBoolean(&quot;flag&quot;, flag);
        return compoundNBT;
    }

    @Override
    public void handleUpdateTag(BlockState state, CompoundNBT tag) {
        flag = tag.getBoolean(&quot;flag&quot;);
    }
}
</code></pre>
<p>First, let's explain the method used to synchronize the two sets of data.</p>
<ul>
<li><code>getUpdatePacket</code></li>
<li><code>onDataPacket</code></li>
</ul>
<p>These two methods are data synchronization methods that will be used during normal games. Their names may be a little confusing, because <code>getUpdatePacket</code> is the method used by the server to send data packets, and <code>onDataPacket</code> is the client accepts Data packet method.</p>
<p>Next is:</p>
<ul>
<li><code>getUpdateTag</code></li>
<li><code>handleUpdateTag</code></li>
</ul>
<p>These two methods are called when the block is just loaded. The reason why these two methods exist is because some decorative block entities do not need to synchronize data frequently, such as billboards. Synchronize once when the block is loaded.</p>
<p>In order for your block entity to automatically synchronize data when the game is loaded, you need to implement <code>getUpdateTag</code> and <code>handleUpdateTag</code> first, and then call them in <code>getUpdatePacket</code> and <code>onDataPacket</code>.</p>
<p>If you need to trigger data synchronization, you need to call the <code>world.notifyBlockUpdate</code> method on the server.</p>
<p>Of course, just like data storage, the default serialization and deserialization methods of these methods are NBT tags.</p>
<pre><code class="language-java">@Override
public CompoundNBT getUpdateTag() {
  CompoundNBT compoundNBT = super.getUpdateTag();
  compoundNBT.putBoolean(&quot;flag&quot;, flag);
  return compoundNBT;
}

@Override
public void handleUpdateTag(BlockState state, CompoundNBT tag) {
  flag = tag.getBoolean(&quot;flag&quot;);
}
</code></pre>
<p>As you can see, the data is transmitted with the NBT tag.</p>
<pre><code class="language-java">@Nullable
@Override
public SUpdateTileEntityPacket getUpdatePacket() {
  return new SUpdateTileEntityPacket(pos, 1, getUpdateTag());
}

@Override
public void onDataPacket(NetworkManager net, SUpdateTileEntityPacket pkt) {
  handleUpdateTag(world.getBlockState(pkt.getPos()), pkt.getNbtCompound());
}
</code></pre>
<p>Here we simply call the previous two methods. You can fill in the serial number value of the second parameter of <code>SUpdateTileEntityPacket</code>.</p>
<p>Then there is our main logic <code>tick</code> method:</p>
<pre><code class="language-java">@Override
public void tick() {
  if (world.isRemote &amp;&amp; flag) {
    PlayerEntity player = world.getClosestPlayer(pos.getX(), pos.getY(), pos.getZ(), 10, false);
    this.world.playSound(player, pos, SoundEvents.ENTITY_ZOMBIE_AMBIENT, SoundCategory.AMBIENT, 1.0f, 1.0f);
    flag = false;
  }
  if (!world.isRemote) {
    if (timer == MAX_TIME) {
      flag = true;
      world.notifyBlockUpdate(pos, getBlockState(), getBlockState(), Constants.BlockFlags.BLOCK_UPDATE);
      flag = true;
      timer = 0;
    }
    timer++;
  }
}
</code></pre>
<p>For your convenience, I have used two <code>if</code> statements here to distinguish the logic between the client and the server</p>
<p>The first is the client:</p>
<pre><code class="language-java">if (world.isRemote &amp;&amp; flag) {
  PlayerEntity player = world.getClosestPlayer(pos.getX(), pos.getY(), pos.getZ(), 10, false);
  this.world.playSound(player, pos, SoundEvents.ENTITY_ZOMBIE_AMBIENT, SoundCategory.AMBIENT, 1.0f, 1.0f);
  flag = false;
}
</code></pre>
<p>First, we judge whether it is on the client side, and whether the value of flag is true (true means to play the sound), and then get the nearest player, use the <code>this.world.playSound</code> method to play the sound, please pay attention, play the sound It can be executed on the client and the server at the same time. If you execute it on the server, a data packet will be sent to the client automatically and the client will play the sound.</p>
<p>The first and second variables of <code>playSound</code> are easy to understand. The third variable is the sound to be played, and the third variable determines which sound control category controls the size of the sound.</p>
<p>Next is the server:</p>
<pre><code class="language-java">if (!world.isRemote) {
  if (timer == MAX_TIME) {
    flag = true;
    world.notifyBlockUpdate(pos, getBlockState(), getBlockState(), Constants.BlockFlags.BLOCK_UPDATE);
    flag = true;
    timer = 0;
  }
  timer++;
}
</code></pre>
<p>The server is basically a counter as before. The only special thing is that we call the <code>world.notifyBlockUpdate</code> method, because we don't need to update the <code>blockstate</code>, so the second and third parameters are the same. The last parameter What level of update is needed, Forge provides us with the <code>Constants</code> class, which has detailed instructions.</p>
<p>Then there are things like adding textures and models, and interested readers can read the source code for themselves.</p>
<p>After opening the game and placing the blocks, wait a while and you should be able to hear the roar of the zombies.</p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/tileentitydatasync">Source Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="special-render"><a class="header" href="#special-render">Special render</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ibakedmodel"><a class="header" href="#ibakedmodel">IBakedModel</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tileentityrneder"><a class="header" href="#tileentityrneder">TileEntityRneder</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itemstacktileentityrenderer"><a class="header" href="#itemstacktileentityrenderer">ItemStackTileEntityRenderer</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="event-system"><a class="header" href="#event-system">Event System</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="network"><a class="header" href="#network">Network</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="network-packet"><a class="header" href="#network-packet">Network Packet</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="network-security"><a class="header" href="#network-security">Network Security</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="entity"><a class="header" href="#entity">Entity</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="first-entity-and-data-sync"><a class="header" href="#first-entity-and-data-sync">First Entity and Data Sync</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="animal-and-ai"><a class="header" href="#animal-and-ai">Animal and AI</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="capability-system"><a class="header" href="#capability-system">Capability System</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="capability-from-scratch"><a class="header" href="#capability-from-scratch">Capability from Scratch</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="use-predefined-capability"><a class="header" href="#use-predefined-capability">Use Predefined Capability</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="attach-capability-provider"><a class="header" href="#attach-capability-provider">Attach Capability provider</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="worldsaveddata"><a class="header" href="#worldsaveddata">WorldSavedData</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gui"><a class="header" href="#gui">Gui</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="first-gui"><a class="header" href="#first-gui">First Gui</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="container"><a class="header" href="#container">Container</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hud"><a class="header" href="#hud">HUD</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fluid"><a class="header" href="#fluid">Fluid</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="world-generation"><a class="header" href="#world-generation">World Generation</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ore-generation"><a class="header" href="#ore-generation">Ore Generation</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="structure-generation"><a class="header" href="#structure-generation">Structure Generation</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="customize-biome-and-world-type"><a class="header" href="#customize-biome-and-world-type">Customize Biome and World Type</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="customize-dimension"><a class="header" href="#customize-dimension">Customize Dimension</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-pack"><a class="header" href="#data-pack">Data Pack</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="recipe"><a class="header" href="#recipe">Recipe</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="loottable"><a class="header" href="#loottable">LootTable</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-generator"><a class="header" href="#data-generator">Data Generator</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command"><a class="header" href="#command">Command</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="advancements"><a class="header" href="#advancements">Advancements</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configure"><a class="header" href="#configure">Configure</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="potion"><a class="header" href="#potion">Potion</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="paticle"><a class="header" href="#paticle">Paticle</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sounds"><a class="header" href="#sounds">Sounds</a></h1>
<p>In this section, we'll talk about learning how to add sound effects to my mods, and it's very simple, so let me get started.</p>
<pre><code class="language-java">public class SoundEventRegistry {
    public static final DeferredRegister&lt;SoundEvent&gt; SOUNDS = DeferredRegister.create(ForgeRegistries.SOUND_EVENTS, Utils.MOD_ID);
    public static final RegistryObject&lt;SoundEvent&gt; meaSound = SOUNDS.register(&quot;mea&quot;, () -&gt; new SoundEvent(new ResourceLocation(Utils.MOD_ID, &quot;mea&quot;)));
}
</code></pre>
<p>With those two sentences, you can register our sound effects.</p>
<p>Next, let's add sound effects and create the following files and directories in your <code>Resource</code> directory.</p>
<pre><code>resources
├── META-INF
│   └── mods.toml
├── assets
│   └── boson
│       ├── blockstates
│       ├── lang
│       ├── models
│       ├── sounds
│       ├── sounds.json
│       └── textures
├── data
└── pack.mcmeta
</code></pre>
<p>Here we have created a <code>sounds.json</code>, please refer to the wiki for the format of this file.</p>
<p>It reads as follows</p>
<pre><code class="language-json">{
  &quot;mea&quot;: {
    &quot;subtitle&quot;: &quot;mea&quot;,
    &quot;replace&quot;: &quot;true&quot;,
    &quot;sounds&quot;: [
      {
        &quot;name&quot;: &quot;boson:mea&quot;,
        &quot;steam&quot;: true
      }
    ]
  }
}
</code></pre>
<p>Note that the outermost key name should be the same as the second parameter in your previous <code>ResourceLocation</code>. We then specify the specific audio file in <code>name</code>. Please note that Minecraft only allows loading of audio files in ogg format.</p>
<p>Next, we place the finished audio file in the <code>sounds</code> file.</p>
<pre><code>resources
├── META-INF
│   └── mods.toml
├── assets
│   └── boson
│       ├── blockstates
│       ├── lang
│       ├── models
│       ├── sounds
│       │   └── mea.ogg
│       ├── sounds.json
│       └── textures
├── data
└── pack.mcmeta
</code></pre>
<p>Place the directory as above.</p>
<p>Next you can create objects to use with our sound effects!</p>
<pre><code class="language-java">public class SoundTestItem extends Item {
    public SoundTestItem() {
        super(new Properties().group(ModGroup.itemGroup));
    }

    @Override
    public ActionResult&lt;ItemStack&gt; onItemRightClick(World worldIn, PlayerEntity playerIn, Hand handIn) {
        if (worldIn.isRemote) {
            worldIn.playSound(playerIn, playerIn.getPosition(), SoundEventRegistry.meaSound.get(), SoundCategory.AMBIENT, 10f, 1f);
        }
        return super.onItemRightClick(worldIn, playerIn, handIn);
    }
}
</code></pre>
<p>Open the game and try it out, we should have successfully added sound effects.</p>
<p><a href="https://github.com/FledgeXu/BosonSourceCode/tree/master/src/main/java/com/tutorial/boson/sounds">Source Code</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="user-input"><a class="header" href="#user-input">User Input</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="compatibiilty"><a class="header" href="#compatibiilty">Compatibiilty</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="access-transformer"><a class="header" href="#access-transformer">Access Transformer</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="coremod"><a class="header" href="#coremod">CoreMod</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
                <!-- Google Analytics Tag -->
        <script type="text/javascript">
            var localAddrs = ["localhost", "127.0.0.1", ""];

            // make sure we don't activate google analytics if the developer is
            // inspecting the book locally...
            if (localAddrs.indexOf(document.location.hostname) === -1) {
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-80068655-4', 'auto');
                ga('send', 'pageview');
            }
        </script>
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
